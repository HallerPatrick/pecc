[{"id": 167, "euler_id": 167, "title": "Investigating Ulam sequences", "problem": "For two positive integers a and b, the Ulam sequence U(a,b) is defined by U(a,b)1 = a, U(a,b)2 = b and for k > 2,\nU(a,b)k is the smallest integer greater than U(a,b)(k-1) which can be written in exactly one way as the sum of two distinct previous members of U(a,b).\nFor example, the sequence U(1,2) begins with\n1, 2, 3 = 1 + 2, 4 = 1 + 3, 6 = 2 + 4, 8 = 2 + 6, 11 = 3 + 8;\n5 does not belong to it because 5 = 1 + 4 = 2 + 3 has two representations as the sum of two previous members, likewise 7 = 1 + 6 = 3 + 4.\nFind \u2211\u2009U(2,2n+1)k for 2 \u2264 n \u226410, where k = 1011.", "solution": "3916160068885", "difficulty": 75, "story": "Once upon a time in the small village of Mathington, there lived a young girl named Lily. Lily was a clever and curious child, always seeking knowledge and adventure. Her favorite place to escape was the village library, a cozy haven filled with books that held secrets waiting to be discovered.\n\nOne sunny afternoon, Lily stumbled upon an old, dusty book tucked away in a forgotten corner. As she wiped away the layers of grime, the title revealed itself: \"Mysteries of Number Sequences.\" Intrigued, Lily opened the book and began to read.\n\nThe pages were filled with intricate mathematical problems and sequences, one of which caught Lily's attention\u2014a problem called the Ulam sequence. Mesmerized by its enigmatic nature, she immersed herself in the story behind this intriguing sequence.\n\nIt all started with two positive integers, a and b, giving birth to the Ulam sequence U(a, b). The sequence began simply with U(a, b)1 = a and U(a, b)2 = b. Fascinatingly, each subsequent term, U(a, b)k, was the smallest integer greater than U(a, b)(k-1) that could be written in exactly one way as the sum of two distinct previous members of U(a, b).\n\nLily's mind was set ablaze with curiosity. She yearned to explore the world of numbers and discover the secrets hidden within this extraordinary sequence. Unable to contain her excitement, she turned to the librarian, Mr. Johnson, who had a reputation for being a math aficionado.\n\n\"Mr. Johnson, have you ever heard of the Ulam sequence?\" Lily asked, her eyes gleaming with anticipation.\n\nMr. Johnson smiled, recognizing the familiar spark of curiosity that danced in Lily's eyes. \"Ah, the Ulam sequence,\" he remarked. \"A remarkable mathematical phenomenon indeed. It has plagued mathematicians for centuries, yet the mystery continues to elude us.\"\n\nLily couldn't help but feel a thrill in her heart. She knew that she had stumbled upon something extraordinary. Determined to unlock the secrets of the Ulam sequence, she delved deeper into her research and embarked on a quest to solve this mathematical puzzle.\n\nDays turned into weeks, and weeks turned into months as Lily tirelessly explored the depths of the Ulam sequence. She scribbled down countless equations, filled pages with numbers, and pondered late into the night, fueled by the insatiable desire to find answers.\n\nAs her understanding grew, Lily began to notice patterns hidden within the ever-expanding sequence. Numbers danced in her mind, weaving an intricate tapestry of possibilities. The Ulam sequence seemed to possess a secret language that only those who studied it could decipher.\n\nFinally, after what felt like an eternity, Lily stumbled upon an astonishing revelation. And yet, she found herself facing a new challenge. The Ulam sequence posed a question, a riddle that beckoned Lily's keen mind to solve it.\n\n\"Find \u2211\u2009U(2,2n+1)k for 2 \u2264 n \u226410, where k = 1011,\" the mathematical problem whispered to her, begging to be unraveled.\n\nNow, as the story unfolds and Lily stands at the crossroads of her journey, she wonders who can solve this mathematical enigma. Perhaps she can find solace in numbers, but the puzzle remains unsolved.\n\nAnd so, dear reader, Lily poses this question to you: Can you solve the Ulam sequence? Can you find the sum of U(2,2n+1)k for 2 \u2264 n \u226410 when k = 1011?\n\nThe answers lie hidden within the depths of the mathematical realm\u2014a challenge awaiting those who dare to embark on this quest."}, {"id": 180, "euler_id": 180, "title": "Rational zeros of a function of three variables", "problem": "For any integer n, consider the three functions\nf1,n(x,y,z) = xn+1 + yn+1 \u2212 zn+1f2,n(x,y,z) = (xy + yz + zx)*(xn-1 + yn-1 \u2212 zn-1)f3,n(x,y,z) = xyz*(xn-2 + yn-2 \u2212 zn-2)\nand their combination\nfn(x,y,z) = f1,n(x,y,z) + f2,n(x,y,z) \u2212 f3,n(x,y,z)\nWe call (x,y,z) a golden triple of order k if x, y, and z are all rational numbers of the form a / b with\n0 < a < b \u2264 k and there is (at least) one integer n, so that fn(x,y,z) = 0.\nLet s(x,y,z) = x + y + z.\nLet t = u / v be the sum of all distinct s(x,y,z) for all golden triples (x,y,z) of order 35. All the s(x,y,z) and t  must be in reduced form.\nFind u + v.", "solution": "285196020571078987", "difficulty": 75, "story": "Once upon a time in a quaint village called Numerica, there lived a young girl named Eliza. Eliza was a curious and intelligent child who loved exploring the world around her. Her favorite place to be was the village library, where she would spend hours poring over books on mathematics and solving complex problems.\n\nOne sunny afternoon, Eliza stumbled upon an ancient manuscript hidden amongst the dusty shelves of the library. The book, titled \"The Enigma of Golden Triples,\" contained a mathematical problem that piqued her curiosity. As she delved deeper into the pages, Eliza could feel the thrill of a mystery unfolding.\n\nThe problem presented three mathematical functions: f1,n(x,y,z), f2,n(x,y,z), and f3,n(x,y,z), along with their combination, fn(x,y,z). These functions defined the concept of a \"golden triple of order k\" and intrigued Eliza beyond measure.\n\nDetermined to decipher the secrets of these golden triples, Eliza began to dig deeper. The manuscript explained that a golden triple of order k was a set of rational numbers, x, y, and z. These numbers were all in the form of a/b, where a and b were positive integers. The conditions were that 0 < a < b \u2264 k and that there existed at least one integer n, making fn(x,y,z) equal to zero.\n\nExcitement coursed through Eliza's veins as she started to unravel the possibilities. Each golden triple had a unique property\u2014its sum, s(x,y,z), which was equal to the sum of the three numbers, x, y, and z. Eliza was fascinated by this new equation and wondered what would happen if she calculated the sum for different golden triples.\n\nAs she delved deeper into her exploration, Eliza's mind began to wander. What if she could find all the distinct s(x,y,z) for golden triples of order 35? And more importantly, what would be the sum of these sums\u2014t? She realized that t had to be expressed in the form of u/v, where u and v were integers in their reduced form.\n\nThe young girl's curiosity was now at its peak. She couldn't help but wonder how she could find u and v. In her heart, she knew that cracking this problem would lead her further on her journey of mathematical enlightenment. But where should she start?\n\nAs Eliza closed the manuscript, she realized that the answer lay hidden within herself. It was a question only she could solve. With a newfound determination, she approached the librarian and requested books on advanced algebra and number theory.\n\nDays turned into weeks, and weeks into months as Eliza immersed herself in the intricate world of mathematics. Armed with knowledge, she began exploring various algorithms and equations that could help her solve the enigma of the golden triples. Her pursuit for u and v had now become her life's mission.\n\nAnd so, dear reader, the question now falls upon you. Can you solve the mathematical problem that captured Eliza's imagination? Can you find u + v, the sum of all distinct sums s(x,y,z) for golden triples of order 35? With the torch passed to you, the adventure now continues."}, {"id": 184, "euler_id": 184, "title": "Triangles containing the origin", "problem": "Consider the set Ir of points (x,y) with integer co-ordinates in the interior of the circle with radius r, centered at the origin, i.e. x2 + y2 < r2.\nFor a radius of 2, I2 contains the nine points (0,0), (1,0), (1,1), (0,1), (-1,1), (-1,0), (-1,-1), (0,-1) and (1,-1). There are eight triangles having all three vertices in I2 which contain the origin in the interior. Two of them are shown below, the others are obtained from these by rotation.\n\nFor a radius of 3, there are 360 triangles containing the origin in the interior and having all vertices in I3 and for I5 the number is 10600.\nHow many triangles are there containing the origin in the interior and having all three vertices in I105?", "solution": "1725323624056", "difficulty": 75, "story": "Once upon a time, in a quaint little village nestled among rolling hills, there lived a young girl named Lily. Lily had a special talent for solving puzzles and riddles. Her inquisitive mind always sought new challenges to conquer. She spent her days exploring the forest, discovering curiosities hidden in every nook and cranny.\n\nOne sunny afternoon, as Lily meandered through the woods, she stumbled upon a weathered book, its pages yellowed and fragile with age. Intrigued, she gently picked it up and blew away a thin layer of dust. To her surprise, the book contained a mysterious array of mathematical puzzles and enigmas, each one more perplexing than the last.\n\nLily's eyes sparkled with excitement as she skimmed through the pages, and her gaze soon fell upon a particular problem that caught her attention. It spoke of a set of points with integer coordinates that lay within the interior of a circle, centered at the origin, with a given radius \"r.\" This set of points was named \"Ir,\" and Lily's mind began to race with possibilities.\n\nShe opened her worn notebook and carefully transcribed the problem, envisioning the shapes and patterns that could arise from such a mathematical construct. To test her newfound knowledge, Lily decided to investigate the case of I2, where the radius was 2 units.\n\nHer nimble fingers traced the circle, plotting the points within its interior. When she stood back, a beautiful arrangement emerged \u2013 a constellation of nine points symmetrically arranged around the origin. Lily smiled, as the image she created mirrored the diagram she saw in the book.\n\nBut the problem intrigued her further. It mentioned that out of these nine points, eight triangles could be formed, each containing the origin within its interior. She pondered over the two triangles that were illustrated in the book, but her curious mind yearned to unearth the remaining six.\n\nWith unwavering determination, Lily immersed herself in the challenge, testing different combinations of points. Slowly, she discovered the missing triangles, her delight growing with each new finding. She felt a sense of accomplishment and curiosity budding within her.\n\nDays turned into weeks, and weeks into months as Lily became consumed by the world of mathematical puzzles. She immersed herself in the beauty of geometric shapes, solving complex calculations, and unlocking the secrets that lay hidden within numerical enigmas.\n\nHer exploration led her to encounter diverse mathematical wonders. The puzzle of I3 had 360 triangles, and I5 presented a staggering 10,600 triangles. Fascinated by the increasing complexity, Lily's thoughts turned to the final enigma: how many triangles would be formed within I105, a circle with a radius of 105 units?\n\nThe vastness of the circle left her awestruck, its possibilities stretching out infinitely in her mind. Her heart filled with anticipation, yearning to know the answer, but above all, craving the thrilling adventure of solving yet another perplexity.\n\nAs the sun dipped below the horizon, casting a golden glow upon the village, Lily closed the book and clutched it close to her chest. The story she had just read and the problems she had encountered danced through her thoughts, filling her dreams with a maze of numbers, patterns, and shapes.\n\nAnd so, dear reader, that is where our tale comes to a halt. I leave you with a question that Lily herself would ponder, a challenge that waits to be unraveled: How many triangles are there containing the origin in the interior and having all three vertices in I105?\n\nNow, if you dare to embark on this numerical quest, close your eyes, take a deep breath, and dive into the realm of mathematics. The answers you seek lie within the beauty of shapes and the logic of numbers, waiting to be discovered by curious minds like yours."}, {"id": 192, "euler_id": 192, "title": "Best Approximations", "problem": "Let x be a real number.\nA best approximation to x for the denominator bound d is a rational number rs  in reduced form, with s\u2264d, such that any rational number which is closer to x than rs has a denominator larger than d:\n |pq\u2212x|<|rs\u2212x|\u21d2q>d\n\nFor example, the best approximation to 13 for the denominator bound 20 is 185 and the best approximation to 13 for the denominator bound 30 is 10128.\nFind the sum of all denominators of the best approximations to n for the denominator bound 1012, where n is not a perfect square and 1<n\u2264100000. ", "solution": "57060635927998347", "difficulty": 75, "story": "Once upon a time, in the small town of Numeria, lived a young woman named Isabelle. Isabelle was known throughout the land for her unparalleled ability to solve complex mathematical problems. Her mind was sharper than any sword, and her heart yearned for the mysteries of numbers and equations. She spent her days studying, solving, and embracing the beauty of mathematics.\n\nOne peaceful day, as Isabelle sat by the riverbank with her trusty notebook and pencil, a messenger arrived with a letter from the royal palace. The king himself had requested her presence. Intrigued and excited, Isabelle made her way to the grand palace, her mind buzzing with possibilities.\n\nUpon entering the palace's lavish throne room, Isabelle was greeted by the king, a wise and benevolent ruler. He explained that a great dilemma had befallen Numeria. The kingdom's treasury, which had always been abundant, was running dry. This oddity puzzled the king and the council, for no one could understand how such a thriving kingdom could be facing financial strain.\n\nIt was then that a humble mathematician approached Isabelle. He introduced himself as Professor Euler, the Royal Mathematician. He shared a mathematical problem that had confounded him, the king, and the council.\n\n\"Isabelle,\" Professor Euler began, \"let me present to you a riddle that lies at the heart of our financial woes. We have discovered that the sum of all denominators of the best approximations to a given number n, for a denominator bound d, holds the key to our predicament.\"\n\nIntrigued, Isabelle listened attentively as the professor continued, explaining the intricacies of the problem. He spoke of real numbers, rational approximations, and the significance of the denominator bound.\n\n\"For instance,\" Professor Euler explained, \"if n is not a perfect square and d is set as 20, we find the best approximation for n to be 185. The sum of its denominators, 5 and 37, is 42. Similarly, for n=13 and d=30, the best approximation would be 10128, resulting in a sum of 5,064.\"\n\nAs Isabelle heard these examples, her mind began to race. She saw the connection between mathematics and the kingdom's treasury. But the question remained: how could this knowledge help Numeria in its time of need?\n\nTo answer this question, Isabelle set forth on a journey. She delved deeper into the mathematical problem, studying the patterns and equations that lay beneath its surface. It consumed her thoughts day and night, as she traveled far and wide in search of answers.\n\nFinally, after weeks of tireless exploration, Isabelle returned to the palace with a gleam in her eye and a sense of purpose in her heart. She shared her findings with the king and the council.\n\n\"Gentlefolk,\" Isabelle proclaimed, \"I have discovered the solution to our financial mystery. By calculating the sum of all denominators of the best approximations to a range of numbers, such as n, we can uncover hidden patterns. These patterns, when further analyzed, reveal potential discrepancies in our kingdom's financial transactions.\"\n\nThe king and his council were astonished at this revelation. They marveled at the power of mathematics and how such a complex problem could hold the answers they sought.\n\nHowever, before the treasury's enigma could be fully unraveled, a question lingered in the air, begging to be answered. A question that only the reader, like Isabelle, could solve.\n\nDear reader, can you calculate the sum of all denominators of the best approximations to n for the denominator bound 1012, where n is not a perfect square and 1<n\u2264100000? The future of Numeria's treasury lies in your hands."}, {"id": 194, "euler_id": 194, "title": "Coloured Configurations", "problem": "Consider graphs built with the units A: \nand B: , where the units are glued along\nthe vertical edges as in the graph .\nA configuration of type (a,b,c) is a graph thus built of a units A and b units B, where the graph's vertices are coloured using up to c colours, so that no two adjacent vertices have the same colour.\nThe compound graph above is an example of a configuration of type (2,2,6), in fact of type (2,2,c) for all c \u2265 4.\nLet N(a,b,c) be the number of configurations of type (a,b,c).\nFor example, N(1,0,3) = 24, N(0,2,4) = 92928 and N(2,2,3) = 20736.\nFind the last 8 digits of N(25,75,1984).", "solution": "61190912", "difficulty": 75, "story": "Once upon a time, in a small town called Numeria, there lived a young girl named Alice. Alice was known for her curious nature and her love for solving puzzles. One sunny day, as she was strolling through the town square, she noticed a crowd gathered around a peculiar-looking poster. Intrigued, she made her way towards it and began reading.\n\n\"Welcome to the Annual Mathematical Challenge! Solve the complex graph problem and win fantastic prizes!\"\n\nAlice's eyes widened with excitement. She couldn't resist a challenge, especially a mathematical one. With determination in her heart, she decided to participate in the event.\n\nThe next morning, Alice found herself seated in a grand lecture hall, filled with the brightest young mathematicians from around the world. They were all given a mathematical problem to solve, and the one who cracked it would be crowned the winner.\n\nThe problem on Alice's paper was as follows:\n\n\"Consider graphs built with the units A: and B: , where the units are glued along\nthe vertical edges as in the graph above. A configuration of type (a,b,c) is a graph built of a units A and b units B, with up to c colors, ensuring no two adjacent vertices have the same color. Find the last 8 digits of N(25,75,1984).\"\n\nAlice's mind started spinning with ideas. She began to visualize the graphs and imagine the combinations of colors. As she thought deeper, a story formed in her mind, and she decided to approach the problem in a different way.\n\nWith determination, Alice grabbed her pen and started writing.\n\n\"In the world of Numeria, there existed two ambitious architects. Their names were Alexander and Benedict. They were famous for their marvelous creations, using units A and B, along with their vibrant colors.\n\nOne day, a wealthy king approached them with a peculiar request. He wanted a grand graph built with 25 units A, 75 units B, and 1984 colors. The condition was that no two adjacent vertices could have the same color.\n\nThe architects were thrilled at the challenge. Alexander, the architect with a keen sense of aesthetics, believed in using as many colors as possible. On the other hand, Benedict, the meticulous planner, preferred minimalistic designs.\n\nAlexander began constructing the graph, passionately adding vibrant colors to each vertex. He believed that the more colors, the more charm the graph would possess. But Benedict, although appreciating the beauty in Alexander's work, decided to take a different approach.\n\nHe started experimenting with different combinations of colors, meticulously ensuring that no two adjacent vertices had the same one. With his methodical nature, he discovered that certain patterns led to multiple configurations.\n\nAs the architects worked diligently, they discovered that the number of configurations for (25,75,1984) was immense, but they couldn't pinpoint the exact number. Determined to solve the puzzle, Alexander and Benedict worked tirelessly, analyzing the patterns and combinations, hoping to find a breakthrough.\n\nTheir efforts went on for weeks, but even their brilliant minds could not compute the exact number of configurations. Alexander's colorful graphs and Benedict's structured designs seemed to fall short in unlocking the answer.\n\nSo, dear reader, I leave you with this question:\n\nWhat are the last 8 digits of N(25,75,1984)? Can you crack this mathematical puzzle and reveal the hidden beauty within these intricate graphs?\"\n\nAs Alice finished writing, she felt a sense of accomplishment. The story she had penned brought the mathematical problem to life, allowing others to embark on their own journey of discovery.\n\nWith a hopeful smile, Alice submitted her story and bid farewell to the Annual Mathematical Challenge. She knew that although she hadn't found the solution, she had ignited a spark in the hearts of those who dared to unravel the mystery.\n\nAnd so, the question remained, waiting for a curious soul to rise and unravel the enigma that lay within the depths of the graph. Will you be the one to answer that call?"}, {"id": 195, "euler_id": 195, "title": "Inscribed circles of triangles with one angle of 60 degrees", "problem": "Let's call an integer sided triangle with exactly one angle of 60 degrees a 60-degree triangle.\nLet r be the radius of the inscribed circle of such a 60-degree triangle.\nThere are 1234 60-degree triangles for which r \u2264 100.\nLet T(n) be the number of 60-degree triangles for which r \u2264 n, so\n T(100) = 1234,\u00a0 T(1000) = 22767, and\u00a0 T(10000) = 359912.\nFind T(1053779).", "solution": "75085391", "difficulty": 75, "story": "Once upon a time, in the Kingdom of Numeria, there lived a young and curious mathematician named Ava. With her curly brown hair and twinkling eyes, she was always searching for new mathematical mysteries to unravel. One sunny morning, as she was flipping through the pages of her favorite book, \"Mathematical Enigmas,\" she stumbled upon a problem that piqued her interest.\n\nThe words on the worn-out page read, \"Let's call an integer sided triangle with exactly one angle of 60 degrees a 60-degree triangle. Let r be the radius of the inscribed circle of such a 60-degree triangle.\"\n\nIntrigued, Ava couldn't help but wonder about the properties of these unique triangles. She read on, \"There are 1234 60-degree triangles for which r \u2264 100. Let T(n) be the number of 60-degree triangles for which r \u2264 n, so T(100) = 1234, T(1000) = 22767, and T(10000) = 359912.\"\n\nAva's mind started whirling with possibilities. She realized that understanding these 60-degree triangles could unlock a wealth of knowledge about the kingdom's architecture and, perhaps, even aid in future construction projects. She tucked the page into her satchel and set off to explore.\n\nHer first stop was at the Royal Palace, an architectural marvel known for its symmetry and elegance. Ava approached the head architect, a wise old man named Archibald.\n\n\"Archibald,\" she said excitedly, \"I have discovered a mathematical problem that could guide us in designing even more remarkable structures. These 60-degree triangles with an inscribed circle could be the key to creating harmonious proportions in our buildings.\"\n\nArchibald, intrigued by Ava's enthusiasm, joined her in the palace courtyard. They spent hours sketching and discussing the properties of these unique triangles. Ava told Archibald about the equation T(100) = 1234, T(1000) = 22767, and T(10000) = 359912, and together they pondered over what T(1053779) might be.\n\nAs the day drew to a close and the sun cast an orange glow over the palace, Ava couldn't help but admire their intriguing findings. The mathematical problem had become the driving force behind their creativity, allowing them to envision breathtaking structures that would stand tall for centuries.\n\nBut for all their progress, one question still eluded Ava and Archibald. What could be the value of T(1053779)?\n\nAs they gazed up at the fading light, a sense of wonder washed over them. Their journey had just begun, leading them to new heights of mathematical exploration. And so, they posed the final question to each other, a question that would fuel their passion for discovery and inspire others to unravel the mathematical enigma:\n\n\"Can you find the value of T(1053779)?\""}, {"id": 224, "euler_id": 224, "title": "Almost right-angled triangles II", "problem": "Let us call an integer sided triangle with sides a \u2264 b \u2264 c barely obtuse if the sides satisfy a2 + b2 = c2 - 1.\nHow many barely obtuse triangles are there with perimeter \u2264 75,000,000?", "solution": "4137330", "difficulty": 75, "story": "Once upon a time in the coastal village of Sunchester, there lived a young and curious boy named Oliver. With a boundless imagination and a love for puzzles, Oliver spent most days exploring the shores, collecting seashells, and unravelling the mysteries of the natural world. However, his true passion lied in the realm of numbers.\n\nOne sunny day, as Oliver was perched on a rugged rock, he spotted an old, weathered book half-buried in the sand. The title on the cover intrigued him enough to brush the sand away and reveal its contents. \"Mathematical Marvels,\" he read aloud, wonder glimmering in his eyes.\n\nIntrigued, Oliver immersed himself in the book, solving one mathematical problem after another. But it was when he stumbled upon a particular problem that his excitement reached new heights. With a pencil in hand and a spark in his eyes, he read the problem aloud to no one but the crashing waves.\n\n\"Let us call an integer-sided triangle with sides a \u2264 b \u2264 c barely obtuse if the sides satisfy a squared plus b squared equals c squared minus one,\" Oliver pondered aloud, tracing the words with his fingertips. \"I wonder how many barely obtuse triangles there are with perimeter less than or equal to 75,000,000.\"\n\nOliver's mind whirred with excitement as he imagined the countless barely obtuse triangles that could exist. He felt a thrill at the possibility of discovering something new, something that had eluded others. With determination in his heart, he made a vow to pursue this mathematical marvel and find the answer.\n\nDays turned into weeks, and then months. Oliver fervently delved into the depths of the problem, gradually piecing together the intricacies of triangles and the nature of obtuseness. He learned that barely obtuse triangles were rare and unique, hiding within the vast landscape of possibilities.\n\nThrough countless calculations and tireless experimentation, Oliver uncovered patterns and formed hypotheses. He discovered that barely obtuse triangles were interconnected with the timeless Pythagorean theorem, weaving together elegance and complexity in a delicate dance of numbers.\n\nHis journey led him across libraries and ancient archives, seeking forgotten knowledge and unraveling the wisdom of the scholars who came before him. But as the days grew shorter and the nights longer, a question started to arise within Oliver's weary mind.\n\nWith every new barely obtuse triangle he encountered, he wondered, \"How many more of these extraordinary creatures exist within the realm of numbers? How many barely obtuse triangles await discovery within the infinite expanse of integers?\"\n\nAs Oliver stood on the rocky shore, gazing into the endless horizon, a bittersweet smile touched his lips. The pursuit of knowledge had carried him far, but there were limits to what a single mind could fathom. He knew that the answer to his question lay beyond the reaches of his own capacity.\n\nAnd so, dear reader, I pose the same question to you. Within the confines of your own insights and calculations, I ask: how many barely obtuse triangles are there with a perimeter less than or equal to 75,000,000? The answer, like the vastness of the universe, lies within your quest for knowledge and your desire to uncover the marvels hidden within the patterns of numbers."}, {"id": 238, "euler_id": 238, "title": "Infinite string tour", "problem": "Create a sequence of numbers using the \"Blum Blum Shub\" pseudo-random number generator:\ns0\n=\n14025256\nsn+1\n=\nsn2 mod 20300713\n\nConcatenate these numbers \u2009s0s1s2\u2026 to create a string w of infinite length.\nThen, w\u2009=\u200914025256741014958470038053646\u2026\nFor a positive integer k, if no substring of w exists with a sum of digits equal to k, p(k) is defined to be zero. If at least one substring of w exists with a sum of digits equal to k, we define p(k)\u2009=\u2009z, where z is the starting position of the earliest such substring.\nFor instance:\nThe substrings 1, 14, 1402, \u2026 \nwith respective sums of digits equal to 1, 5, 7, \u2026\nstart at position 1, hence p(1)\u2009=\u2009p(5)\u2009=\u2009p(7)\u2009=\u2009\u2026\u2009=\u20091.\nThe substrings 4, 402, 4025, \u2026\nwith respective sums of digits equal to 4, 6, 11, \u2026\nstart at position 2, hence p(4)\u2009=\u2009p(6)\u2009=\u2009p(11)\u2009=\u2009\u2026\u2009=\u20092.\nThe substrings 02, 0252, \u2026\nwith respective sums of digits equal to 2, 9, \u2026\nstart at position 3, hence p(2)\u2009=\u2009p(9)\u2009=\u2009\u2026\u2009=\u20093.\nNote that substring 025 starting at position 3, has a sum of digits equal to 7, but there was an earlier substring (starting at position 1) with a sum of digits equal to 7, so p(7)\u2009=\u20091, not 3.\nWe can verify that, for 0\u2009<\u2009k\u2009\u2264\u2009103, \u2211\u2009p(k) = 4742.\nFind \u2211\u2009p(k), for 0\u2009<\u2009k\u2009\u2264\u20092\u00d71015.", "solution": "9922545104535661", "difficulty": 75, "story": "Once upon a time, in the whimsical town of Numeria, lived a young mathematician named Alice. Alice was known for her sharp intellect and her insatiable curiosity. She spent her days engrossed in complex mathematical problems, seeking to unravel the secrets of the universe through numbers and equations.\n\nAlice had recently come across a fascinating mathematical problem called the \"Blum Blum Shub\" sequence. It involved creating a sequence of numbers using a pseudo-random number generator. The more she delved into this problem, the more enthralled she became. It captured her imagination like no other mathematical puzzle had before.\n\nAs she immersed herself in the problem, Alice discovered a peculiar property of the generated sequence. The resulting string, which she called 'w,' was an infinite concatenation of digits. Each substring of 'w' had a sum of digits, and she had to determine the starting position of the earliest substring with a sum equal to a positive integer 'k.' Alice denoted this position as 'p(k).'\n\nHer mind whirled with excitement as she explored the intricacies of 'w.' She discovered that if no substring existed with a sum of digits equal to 'k,' then 'p(k)' would be zero. However, if there was at least one substring with a sum equal to 'k,' 'p(k)' would be the starting position of that substring.\n\nAlice's love for numbers transcended mere logic; it was an adventure waiting to be unraveled. She spent countless hours analyzing the sequence, dissecting it to find patterns, and meticulously documenting her findings. Every discovery fueled her passion, propelling her deeper into the mathematical labyrinth.\n\nIn her pursuit, Alice realized that 'w' was like a tapestry woven from the threads of numbers. Each thread had a unique tale to tell, and she was determined to decipher every single one. She uncovered the starting positions of numerous substrings, finding 'p(k)' for a myriad of positive integers 'k.'\n\nDespite the enormity of her task, Alice had managed to calculate 'p(k)' for all positive integers 'k' less than or equal to 1,000. The sum of these 'p(k)' values added up to a remarkable 4,742. It was an astonishing feat, a testament to her devotion and unwavering enthusiasm.\n\nBut Alice's insatiable curiosity knew no bounds. She yearned to solve the mathematical problem completely, to unveil the secrets hidden within 'w' for all positive integers 'k' up to 2\u00d710^15. The thought of unraveling this enigma consumed her every waking moment.\n\nAnd so, dear reader, I implore you to join Alice on her journey. Will you step into Numeria and venture into the depths of the mathematical world alongside her? Will you take up the challenge and solve the puzzle that has captivated her heart and mind?\n\nThe path awaits, and the possibilities stretch out before you. So tell me, dear reader, the answer beckons: What is \u2211 p(k) for 0 < k \u2264 2\u00d710^15?"}, {"id": 242, "euler_id": 242, "title": "Odd Triplets", "problem": "Given the set {1,2,...,n}, we define f(n,k) as the number of its k-element subsets with an odd sum of elements. For example, f(5,3)\u2009=\u20094, since the set {1,2,3,4,5} has four 3-element subsets having an odd sum of elements, i.e.: {1,2,4}, {1,3,5}, {2,3,4} and {2,4,5}.\nWhen all three values n, k and f(n,k) are odd, we say that they make \nan odd-triplet [n,k,f(n,k)].\nThere are exactly five odd-triplets with n\u2009\u2264\u200910, namely:\n[1,1,f(1,1)\u2009=\u20091], [5,1,f(5,1)\u2009=\u20093], [5,5,f(5,5)\u2009=\u20091], [9,1,f(9,1)\u2009=\u20095] and [9,9,f(9,9)\u2009=\u20091].\nHow many odd-triplets are there with n\u2009\u2264\u20091012\u2009?", "solution": "997104142249036713", "difficulty": 75, "story": "Once upon a time in the vibrant kingdom of Mathlandia, there lived a young mathematician named Alex. Alex was a prodigy in the field of mathematics, and their passion for numbers knew no bounds. They spent their days immersed in solving complex problems and uncovering the beauty of the numerical world.\n\nOne sunny morning, as Alex was poring over an ancient mathematical manuscript, they stumbled upon an intriguing problem. With wide eyes and a quickened heartbeat, they delved into the enigmatic puzzle. It spoke of odd triplets and subsets, of sums and elements, captivating Alex's mind.\n\nThey soon learned that an odd-triplet was a combination of three values, n, k, and f(n,k), wherein all these values were odd. Alex was fascinated by the concept and wondered how many odd-triplets could be found with n less than or equal to 10. The problem ignited a curiosity in Alex's heart, setting them on a quest for knowledge.\n\nDriven by their desire to unravel the mysteries of numbers, Alex embarked on a journey through the realms of Mathlandia. From the bustling streets of Addition Avenue to the serene landscapes of Multiplication Meadow, every step Alex took led them closer to the answers they sought.\n\nAs Alex moved forward, the townsfolk of Mathlandia provided them with invaluable guidance. They met a wise old sage named Fibonacci, who shared ancient mathematical wisdom that had been passed down through generations. Fibonacci explained the intricacies of subsets and taught Alex how to calculate f(n,k) for different values of n and k. The young mathematician eagerly absorbed Fibonacci's teachings, their mind expanding with each passing day.\n\nWith newfound knowledge, Alex traversed through various numeric realms, encountering fascinating mathematical phenomena along the way. They marveled at the symmetrical patterns of Pascal's triangle and reveled in the beauty of prime numbers. Alex discovered that mathematics was not just cold calculations but a living, breathing entity that permeated every facet of existence.\n\nAs n, k, and f(n,k) danced through Alex's mind, they discovered odd-triplets hidden in the nooks and crannies of Mathlandia. They beheld the five rare odd-triplets with n less than or equal to 10, cherishing each discovery as a precious gem.\n\nBut the young mathematician hungered for more. The thirst for knowledge consumed them, compelling them to seek an answer to a greater question. How many odd-triplets could be found with n less than or equal to 10^12?\n\nWith a brilliant spark in their eyes, Alex resolved to find the answer. They dove deep into the depths of the mathematical ocean, armed with the knowledge imparted by Fibonacci and the tireless support of their fellow mathematicians. Days turned into weeks, weeks into months, and months into years, but Alex's resolve remained unyielding.\n\nThe quest for odd-triplets became their life's purpose, driving them to push the boundaries of mathematical understanding. Their pursuit took them to new heights of brilliance, as they made groundbreaking discoveries and derived intricate formulas. Alex's determination knew no bounds, fueled by the promise of finding the elusive solution.\n\nAnd so, the question remains, dear reader, as you submerge yourself in this mathematical tale: How many odd-triplets are there with n less than or equal to 10^12? Will Alex's relentless pursuit of knowledge bear fruit, or will the answer continue to elude them?\n\nAs you ponder the question, remember that within the realm of mathematics, there are infinite wonders waiting to be discovered."}, {"id": 253, "euler_id": 253, "title": "Tidying up A", "problem": "A small child has a \u201cnumber caterpillar\u201d consisting of forty jigsaw pieces, each with one number on it, which, when connected together in a line, reveal the numbers 1 to 40 in order.\nEvery night, the child's father has to pick up the pieces of the caterpillar that have been scattered across the play room. He picks up the pieces at random and places them in the correct order. As the caterpillar is built up in this way, it forms distinct segments that gradually merge together. The number of segments starts at zero (no pieces placed), generally increases up to about eleven or twelve, then tends to drop again before finishing at a single segment (all pieces placed).\nFor example:\n\nPiece Placed\nSegments So Far\n121422936434554354\u2026\u2026\nLet M be the maximum number of segments encountered during a random tidy-up of the caterpillar.\nFor a caterpillar of ten pieces, the number of possibilities for each M is\n\nM\nPossibilities\n1512\u00a0 \u00a0\u00a0 \u00a02250912\u00a0 \u00a0\u00a0 \u00a031815264\u00a0 \u00a0\u00a0 \u00a041418112\u00a0 \u00a0\u00a0 \u00a05144000\u00a0 \u00a0\u00a0 \u00a0\nso the most likely value of M is 3 and the average value is 385643\u2044113400 = 3.400732, rounded to six decimal places.\nThe most likely value of M for a forty-piece caterpillar is 11; but what is the average value of M?\nGive your answer rounded to six decimal places.", "solution": "11.492847", "difficulty": 75, "story": "Once upon a time in a cozy little house on the outskirts of a small town, lived a young girl named Lily. Lily was an inquisitive child with an insatiable thirst for knowledge. She loved puzzles of all kinds, and her favorite was a peculiar one - a number caterpillar. This caterpillar was no ordinary puzzle; it consisted of forty jigsaw pieces, each with a unique number on it, that when connected in order revealed the numbers 1 to 40.\n\nEvery day, Lily and her father, Mr. Thompson, would sit together and solve the number caterpillar puzzle. They would take turns picking up the scattered pieces in the playroom and placing them in the correct order. As they diligently worked on the puzzle, they noticed something peculiar happening. The caterpillar started forming distinct segments that gradually merged together as more pieces were added. The number of segments started at zero (when no pieces were placed), increased up to about eleven or twelve, and then dropped again, eventually finishing with a single segment when all the pieces were in place.\n\nMr. Thompson, being a curious and analytical person, couldn't help but wonder about the behavior of the segments. He decided to observe and record the number of segments formed during each random tidy-up of the caterpillar. He called this number \"M,\" which represented the maximum number of segments encountered during the process.\n\nAs Lily and Mr. Thompson continued to solve the caterpillar puzzle, they noticed incredible patterns emerging. They discovered that for a caterpillar of ten pieces, the number of possibilities for each M value was as follows:\n\nM: 1 2 3 4 5\nPossibilities: 15 12 22,509, 12 31,526, 44 18,112, 5 14 40,000\n\nThe most likely value of M for a ten-piece caterpillar was found to be 3, and the average value was 385,643/113,400 which rounded to six decimal places is 3.400732.\n\nLily and Mr. Thompson were amazed at their findings and couldn't help but wonder about the same for the forty-piece caterpillar. What would be the most likely value of M, and what would be the average value? They had already experienced the maximum number of segments reaching up to eleven, but how would that translate to the average?\n\nDetermined to find the answer, Lily and Mr. Thompson embarked on a new adventure, solving the forty-piece caterpillar puzzle. But as they spent hours arranging and rearranging the scattered puzzle pieces, focusing on the merging segments, they realized they needed to know the average value of M that they had been pondering on more precisely.\n\nSo, the question remained - what was the average value of M for the forty-piece caterpillar? They longed to know the answer, rounded to six decimal places.\n\nAs Lily and Mr. Thompson continued their mathematical journey, they couldn't help but wonder what secret lay hidden within the segments of the number caterpillar. Would they be able to unravel the mystery and quench their thirst for knowledge? Only time and perseverance would reveal the answers they so ardently sought.\n\nAnd so, dear reader, I leave you with this question: Can you solve the mathematical problem they encountered? What is the average value of M for the forty-piece caterpillar? Round your answer to six decimal places."}, {"id": 254, "euler_id": 254, "title": "Sums of Digit Factorials", "problem": "Define f(n) as the sum of the factorials of the digits of n. For example, f(342) = 3! + 4! + 2! = 32.\nDefine sf(n) as the sum of the digits of f(n). So sf(342) = 3 + 2 = 5.\nDefine g(i) to be the smallest positive integer n such that sf(n) = i. Though sf(342) is 5, sf(25) is also 5, and it can be verified that g(5) is 25.\nDefine sg(i) as the sum of the digits of g(i). So sg(5) = 2 + 5 = 7.\nFurther, it can be verified that g(20) is 267 and \u2211\u2009sg(i) for 1 \u2264 i \u2264 20 is 156.\nWhat is \u2211\u2009sg(i) for 1 \u2264 i \u2264 150?", "solution": "8184523820510", "difficulty": 75, "story": "Once upon a time, in a small, sleepy town, there lived a mathematician named William. William was known for his love of numbers and spent most of his days buried in books, scribbling complex equations on stacks of paper. He was a quiet man, with a sharp mind and a gentle demeanor.\n\nOne sunny morning, as William sat in his study engrossed in his latest exploration of number theory, he stumbled upon a fascinating mathematical problem. It was a labyrinth of equations and calculations, waiting to be unraveled.\n\nUnable to resist the temptation, William decided to dedicate himself to solving this enigma. He defined f(n) as the sum of the factorials of the digits of n, amazed at how such a simple concept could lead to such intricate results. The more he delved into it, the more he realized the depth of its complexity.\n\nAs the days turned into weeks, William's intrigue grew. He thought about f(342) and how it equaled 3! + 4! + 2! to become 32. Then he discovered sf(n), which was the sum of the digits of f(n). For example, sf(342) equaled 5 because 3 + 2 is 5.\n\nWilliam continued his journey into this mathematical realm, defining g(i) as the smallest positive integer n such that sf(n) equaled i. While sf(342) was 5, he found out that sf(25) was also 5. Digging deeper, he saw that g(5) equaled 25, surprising him with each new revelation.\n\nDays turned into months, and William's obsession with this problem intensified. He was now fully immersed in his quest. He defined sg(i) as the sum of the digits of g(i) and was thrilled to find that sg(5) equaled 7 when g(5) was 25.\n\nDetermined to explore the boundaries of this mathematical conundrum, William challenged himself to find g(20). After countless hours of calculations, his tireless efforts bore fruit, and he discovered that g(20) equaled 267.\n\nSuddenly, a realization struck him like a bolt of lightning. He realized that the sum of sg(i) for 1 \u2264 i \u2264 20 was 156! The thrill of this revelation sent shivers down William's spine. It seemed as though the intertwined world of numbers was inviting him to unlock its secrets, to push further and delve into the unknown.\n\nBut where would it lead? What was \u2211\u2009sg(i) for 1 \u2264 i \u2264 150? William's heart raced with anticipation as he carefully inscribed the question at the end of his calculations. This was his call to adventure, the final piece of the puzzle he had tirelessly built over the months.\n\nAnd so, dear reader, the story comes to a close, but the mathematical journey has only just begun. Can you solve the mystery that captivated William's mind? What is \u2211\u2009sg(i) for 1 \u2264 i \u2264 150? The answer awaits, tucked away within the intricate web of numbers and their patterns. Will you answer the call and unlock this mathematical enigma?"}, {"id": 255, "euler_id": 255, "title": "Rounded Square Roots", "problem": "We define the rounded-square-root of a positive integer n as the square root of n rounded to the nearest integer.\nThe following procedure (essentially Heron's method adapted to integer arithmetic) finds the rounded-square-root of n:\nLet d be the number of digits of the number n.\nIf d is odd, set x0=2\u00d710(d\u22121)/2.\nIf d is even, set x0=7\u00d710(d\u22122)/2.\nRepeat:\nxk+1=\u230axk+\u2308n/xk\u23092\u230b\nuntil xk+1=xk.\nAs an example, let us find the rounded-square-root of n = 4321.n has 4 digits, so x0=7\u00d710(4\u22122)/2=70.\nx1=\u230a70+\u23084321/70\u23092\u230b=66\nx2=\u230a66+\u23084321/66\u23092\u230b=66\n\nSince x2=x1, we stop here.\nSo, after just two iterations, we have found that the rounded-square-root of 4321 is 66 (the actual square root is 65.7343137\u2026).\n\nThe number of iterations required when using this method is surprisingly low.\nFor example, we can find the rounded-square-root of a 5-digit integer (10,000 \u2264 n \u2264 99,999) with an average of 3.2102888889 iterations (the average value was rounded to 10 decimal places).\n\nUsing the procedure described above, what is the average number of iterations required to find the rounded-square-root of a 14-digit number (1013 \u2264 n < 1014)?\nGive your answer rounded to 10 decimal places.\n\nNote: The symbols \u230ax\u230b and \u2308x\u2309 represent the floor function and ceiling function respectively.\n", "solution": "4.4474011180", "difficulty": 75, "story": "As the day's last rays of sunlight danced upon the impossibly green fields of Octora, a young girl named Amelia sat under the shade of a towering oak tree. This ancient tree had been her refuge since childhood, a place where her imagination soared and where she sought solace.\n\nAmelia was not like the other children in the small village. While they laughed and played, she found solace in numbers and equations. Mathematics fascinated her, and she spent hours unraveling its mysteries. Today, however, her mind was consumed by a particular mathematical problem.\n\nIt began with her stumbling upon an old book in the village library. The book detailed a unique method to find the rounded-square-root of a number, and Amelia was captivated. The process seemed simple enough, yet its elegance and efficiency fascinated her.\n\nLost in thought, Amelia's gaze fixated upon the distant horizon. She was drawn to a flock of birds soaring through the tranquil sky. How she longed to be free like them, unrestrained by the complexities of the world. A gentle breeze rustled her golden curls, and her mind wandered deeper into the enchanting realm of numbers.\n\nAs the story unfolded in her head, numbers seamlessly interwove with the lives of imaginative characters. There was George, a curious and adventurous young boy, and his steadfast companion, Olivia, a whimsical owl with emerald eyes. Together, they embarked on a quest to uncover the secrets of the rounded-square-root.\n\nTheir journey began in the mythical land of Numaria. They sought the guidance of the wise and venerable Mathematician Supreme, who had spent his life deciphering the hidden patterns of numbers. He taught them the ancient method of Heron's adapted arithmetic, revealing the profound simplicity behind the seemingly complex process.\n\nArmed with knowledge and intuition, George and Olivia ventured forth, encountering mathematical enigmas at every turn. They traversed treacherous terrain, from the peaks of Mount Calculation to the depths of the Mystic Forest, and even braved the stormy seas of Algebraic Ocean.\n\nAs George and Olivia delved deeper into their quest, they unearthed the secret to finding the rounded-square-root of a number. They discovered the elegance of the repeating process, where each iteration brought them closer to the truth, until a moment of convergence arrived. It was a moment of equilibrium, where xk+1 became identical to xk.\n\nWith this newfound understanding, George and Olivia returned to Amelia's consciousness, merging with her narrative. As the characters faced their final challenge, Amelia's mind raced to solve her own mathematical problem. How many iterations would it take to find the rounded-square-root of a 14-digit number?\n\nThe trees whispered in anticipation as Amelia focused her thoughts, applying the method with precision. The elegance of the solution intoxicated her, echoing the significance it held in the quest of George and Olivia. Determination etched across her face, she calculated, considering each digit and its influence on the final result.\n\nAmelia's heart raced as the numbers danced before her eyes. She journeyed through the iterations, navigating valleys and peaks of numerical intricacy. Moments turned to hours, but she refused to yield.\n\nFinally, as her mind reached the precipice of revelation, Amelia exhaled. The answer formed on her lips, yet she hesitated. Was it possible? Could her calculations be correct? Doubt whispered in her ear, urging her to retrace her steps and question her logic.\n\nBut she knew she could not resist the allure of the answer any longer. It was time to relinquish her doubts and face the truth. With a deep breath, Amelia spoke the question that lingered on her tongue, \"Using the procedure described above, what is the average number of iterations required to find the rounded-square-root of a 14-digit number?\"\n\nThe oak tree stood silent, cradling her question within its ancient branches. The evening sun dipped below the horizon, casting ethereal shadows upon the fields. The whispers of the wind carried her query far and wide, reaching the hearts of those who, like her, sought the beauty in the realm of numbers.\n\nAs the stars began to twinkle in the azure sky, darkness engulfed the world, enveloping Amelia and her obsession with the mathematical problem. The question lingered in the air, casting a spell upon the readers, daring them to unveil the solution and savor the triumph that awaited.\n\nAnd so, dear reader, the question stands before you, beckoning you to embark upon your own journey. Can you find the average number of iterations required to find the rounded-square-root of a 14-digit number? The answer awaits your exploration, ready to showcase the magic of numbers and the wonders they hold."}, {"id": 263, "euler_id": 263, "title": "An engineers' dream come true", "problem": "\nConsider the number 6. The divisors of 6 are: 1,2,3 and 6.\nEvery number from 1 up to and including 6 can be written as a sum of distinct divisors of 6:\n1=1, 2=2, 3=1+2, 4=1+3, 5=2+3, 6=6.\nA number n is called a practical number if every number from 1 up to and including n can be expressed as a sum of distinct divisors of n.\n\n\nA pair of consecutive prime numbers with a difference of six is called a sexy pair (since \"sex\" is the Latin word for \"six\"). The first sexy pair is (23, 29).\n\n\nWe may occasionally find a triple-pair, which means three consecutive sexy prime pairs, such that the second member of each pair is the first member of the next pair.\n\n\nWe shall call a number n such that :\n(n-9, n-3), (n-3,n+3), (n+3, n+9) form a triple-pair, and \nthe numbers n-8, n-4, n, n+4 and n+8 are all practical,\n \nan engineers\u2019 paradise.\n\n\nFind the sum of the first four engineers\u2019 paradises.\n", "solution": "2039506520", "difficulty": 75, "story": "Once upon a time, in a small village nestled among rolling green hills, lived a young girl named Lily. Lily had always been fascinated by numbers and patterns. She spent her days exploring the nearby forest, observing the symmetry in nature, and attempting to unravel the mysteries of mathematics.\n\nOne sunny afternoon, while studying at her favorite spot by the old oak tree, Lily stumbled upon an old dusty book that had been discarded under a pile of leaves. Intrigued, she cautiously opened the book and found herself immersed in a story that seemed to blend both mathematics and adventure.\n\nThe book told a tale of a legendary treasure hidden deep within the hills. The treasure was said to bring fortune and prosperity to the one who could solve the mystical equation guarding its whereabouts. The equation involved consecutive prime numbers, and intriguingly, the difference between them was always six.\n\nLily's eyes widened with excitement. She realized that she held the key to unlocking the treasure's location. Determined to solve the equation, she embarked on a journey to unravel the secrets hidden within the prime numbers.\n\nAs she delved deeper into the study of prime numbers, Lily stumbled upon a peculiar pattern. She discovered a concept known as \"sexy pairs\" \u2013 pairs of consecutive prime numbers with a difference of six. It was a wondrous revelation since the Latin word \"sex\" meant \"six.\" The first sexy pair mentioned in the book was (23, 29), which fascinated her.\n\nEager to explore further, Lily endeavored to find not just a single sexy pair but a sequence of three consecutive pairs. In her search, Lily stumbled upon a rare phenomenon known as \"triple-pairs.\" These triple-pairs consisted of three consecutive sexy prime pairs, in which the second member of each pair was the first member of the next pair.\n\nLily's mind whirled with excitement as she realized the potential significance of these triple-pairs. Could they hold the key to deciphering the equation guarding the treasure's location? She mulled over this possibility, her brain dancing with numbers and possibilities.\n\nWith every passing day, Lily's passion for numbers grew stronger. She found herself obsessing over the prospect of finding an \"engineers' paradise.\" An engineers' paradise, as revealed in her mathematical explorations, was a number (let's call it \"n\") that matched specific criteria:\n\n1. The difference between (n-9) and (n-3) formed the first sexy pair of consecutive prime numbers with a difference of six.\n2. The difference between (n-3) and (n+3) formed the second sexy pair of consecutive prime numbers with a difference of six.\n3. The difference between (n+3) and (n+9) formed the third sexy pair of consecutive prime numbers with a difference of six.\n4. Furthermore, the numbers (n-8), (n-4), n, (n+4), and (n+8) were all practical numbers, meaning they could be expressed as the sum of distinct divisors of n.\n\nAs Lily worked tirelessly to find an engineers' paradise, she felt a sense of exhilaration and longing. She dreamed of the treasure this number might unlock, the knowledge and wisdom it might hold.\n\nBut her journey was far from over. It would take many sleepless nights, countless calculations, and the unraveling of countless mathematical mysteries to find the first engineers' paradise. And even then, there were three more paradises she needed to uncover.\n\nAs Lily sat by the old oak tree, contemplating her mathematical puzzle, she couldn't help but wonder: What would be the sum of the first four engineers' paradises? Was the treasure she sought hidden within these numbers? The question burned in her heart as she continued her seemingly infinite quest for knowledge and truth.\n\nAnd so, dear reader, I pose the question to you: Can you find the sum of the first four engineers' paradises? Can you unlock the hidden treasure and offer Lily the answers she seeks? The fate of her village and the knowledge of the ancients might just depend on it."}, {"id": 276, "euler_id": 276, "title": "Primitive Triangles", "problem": "Consider the triangles with integer sides a, b and c with a \u2264 b \u2264 c.\nAn integer sided triangle (a,b,c) is called primitive if  gcd(a,b,c)=1. \nHow many primitive integer sided triangles exist with a perimeter not exceeding 10 000 000?\n", "solution": "5777137137739632912", "difficulty": 75, "story": "Once upon a time, in the quiet village of Mathland, a young girl named Emma found herself in a perplexing situation. Emma had always been fascinated by numbers and patterns, and she spent many hours exploring the wonders of arithmetic and geometry. However, today was different.\n\nWhile strolling through the village square, Emma noticed an old, worn-out book on the ground. Intrigued by its ancient appearance, she dusted it off and opened it. To her amazement, the book contained countless mathematical riddles and problems, one of which caught her eye.\n\nThe problem read, \"Consider the triangles with integer sides a, b, and c with a \u2264 b \u2264 c. An integer-sided triangle (a, b, c) is called primitive if gcd(a, b, c) = 1. How many primitive integer-sided triangles exist with a perimeter not exceeding 10,000,000?\"\n\nCuriosity piqued, Emma instantly became united with the problem, yearning to find the answer. As she delved deeper into the book's pages, she discovered a tale about a legendary mathematician who had devoted his life to solving this very problem.\n\nThe mathematician, Sir Archimedes, had been known for his insatiable thirst for knowledge and his remarkable problem-solving abilities. Legend had it that he was faced with the same mathematical conundrum. Determined to conquer this challenge, Sir Archimedes set off on a quest to find the elusive answer.\n\nEmma couldn't help but immerse herself in the story, feeling a strange connection to Sir Archimedes. Inspired, she decided to follow in his footsteps, seeking answers to the unsolved mystery that had captivated them both.\n\nWith newfound determination, Emma embarked on an intellectual adventure, traveling to distant lands in search of clues and wisdom. She sought out renowned mathematicians, visited ancient libraries, and even climbed treacherous mountains. Along her journey, she encountered the wise Sage of Numbers who shared valuable insights and ancient techniques.\n\nThrough the toils and trials of her quest, Emma discovered that primitive integer-sided triangles were tied to the concept of coprime numbers, also known as relatively prime or mutually prime numbers. With coprime numbers, the greatest common divisor between them is always 1.\n\nAs the months turned into years, Emma continued her relentless pursuit of knowledge. She became well-versed in mathematical theorems, algorithms, and properties surrounding primitive triangles. It seemed that every piece of information led her closer to unraveling the enigma of Sir Archimedes.\n\nDays blended into nights as Emma's determination never wavered. Soon, she found herself standing at the edge of a magnificent cliff, overlooking a vast expanse of the world she had explored. Each step seemed to bring her closer to her goal, and the anticipation of discovery filled her heart.\n\nFinally, she reached a point where her knowledge and the fabled wisdom intersected. But just as Emma was about to uncover the answer that had eluded mathematicians for ages, the story abruptly ended, leaving her on the precipice of enlightenment.\n\nFeeling both grateful and frustrated, Emma pondered the magnitude of the problem before her. Countless hours spent poring over numbers, equations, and theories had taken her to the threshold of knowledge. The solution, concealed within the recesses of her mind, was just out of reach.\n\nDetermined to solve the mathematical mystery, Emma closes the ancient book and looks out into the horizon, contemplating her next move. She realizes that her journey has only just begun and that the answer lies somewhere within her.\n\nAnd so, dear reader, the question remains: How many primitive integer-sided triangles exist with a perimeter not exceeding 10,000,000? Will you be the one to help Emma solve the riddle that has captivated minds for centuries?"}, {"id": 283, "euler_id": 283, "title": "Integer sided triangles for which the  area/perimeter ratio is integral", "problem": "\nConsider the triangle with sides 6, 8 and 10. It can be seen that the perimeter and the area are both equal to 24. \nSo the area/perimeter ratio is equal to 1.\nConsider also the triangle with sides 13, 14 and 15. The perimeter equals 42 while the area is equal to 84. \nSo for this triangle the area/perimeter ratio is equal to 2.\n\n\nFind the sum of the perimeters of all integer sided triangles for which the area/perimeter ratios are equal to positive integers not exceeding 1000.\n", "solution": "28038042525570324", "difficulty": 75, "story": "Once upon a time, in the vibrant village of Mathville, there lived a young boy named Ethan. He had an insatiable curiosity for all things mathematical, and his eyes sparkled with excitement whenever he encountered a new problem to solve.\n\nOne sunny afternoon, as Ethan strolled through the town's bustling marketplace, he overheard a group of villagers discussing a peculiar puzzle. In the midst of their animated conversation, Ethan caught snippets of their discourse.\n\n\"Did you know,\" an elderly woman exclaimed, \"that there are triangles with an area and perimeter equal to 24?\"\n\nCuriosity piqued, Ethan approached the group and inquired about the enigma they were discussing. A kind-hearted villager named Amelia explained the mathematical problem to him, detailing the fascinating properties of these triangles.\n\nConsider the triangle with sides 6, 8, and 10. Its perimeter and area are both equal to 24, resulting in an area/perimeter ratio of 1. Then, there's another triangle with sides 13, 14, and 15. Its perimeter is 42, while the area measures 84. The area/perimeter ratio for this triangle turns out to be 2.\n\nEthan was astounded by the intriguing relationship between a triangle's area and its perimeter. His mind raced with countless possibilities, fueled by the passion for mathematics that lay deep within him.\n\nEmboldened by his newfound knowledge, Ethan began to ponder the implications of this mathematical problem. Scales fell from his eyes, and he saw a world of triangles that lay hidden beneath the surface of Mathville.\n\nHe imagined landscapes adorned with triangular mountains, where the area and perimeter harmoniously danced together. He envisioned cities built upon triangles, where architects and engineers relied on the delicate balance between the dimensions of a triangle. Ethan pictured himself as the hero of his own mathematical adventure, unravelling the mysteries of these remarkable shapes.\n\nAs Ethan walked through the marketplace, he gathered snippets of information from the villagers, each sharing newfound triangles with their own unique properties. With every triangle he heard about\u2014triangle after triangle\u2014he became more captivated by the challenge of finding these enigmatic shapes.\n\nDays turned into weeks, and weeks into months, but Ethan's enthusiasm never waned. He explored countless corners of Mathville, uncovering triangles with remarkable area/perimeter ratios. He discovered triangles whose ratios equaled 3, 4, and even 100.\n\nNow, dear reader, I leave you with a question\u2014an opportunity to embark on your own journey of mathematical exploration. Can you find the sum of the perimeters of all integer-sided triangles for which the area/perimeter ratios are equal to positive integers not exceeding 1000?\n\nIn the heart of Mathville, where the spirit of curiosity and discovery thrived, Ethan awaited your answer. Will you step into his shoes, embrace the challenge, and unveil the hidden secrets of these extraordinary triangles?"}, {"id": 295, "euler_id": 295, "title": "Lenticular holes", "problem": "We call the convex area enclosed by two circles a lenticular hole if:\nThe centres of both circles are on lattice points.\nThe two circles intersect at two distinct lattice points.\nThe interior of the convex area enclosed by both circles does not contain any lattice points.\n\nConsider the circles:\nC0: x2+y2=25\nC1: (x+4)2+(y-4)2=1\nC2: (x-12)2+(y-4)2=65\n\n\nThe circles C0, C1 and C2 are drawn in the picture below.\n\n\nC0 and C1 form a lenticular hole, as well as C0 and C2.\n\nWe call an ordered pair of positive real numbers (r1, r2) a lenticular pair if there exist two circles with radii r1 and r2 that form a lenticular hole.\nWe can verify that (1, 5) and (5, \u221a65) are the lenticular pairs of the example above.\n\nLet L(N) be the number of distinct lenticular pairs (r1, r2) for which 0 < r1 \u2264 r2 \u2264 N.\nWe can verify that L(10) = 30 and L(100) = 3442.\n\nFind L(100 000).\n", "solution": "4884650818", "difficulty": 75, "story": "Once upon a time, in a small village nestled in the heart of a magical forest, there lived a young boy named Ethan. Ethan had always been fascinated by puzzles and riddles. His mind was like a sponge, always thirsty for knowledge and eager to solve the unsolvable. One sunny afternoon, as he roamed the village square, he stumbled upon an old dusty book lying on a bench. Curiosity piqued, he picked it up and began flipping through its yellowed pages.\n\nAs Ethan read deeper into its contents, he discovered a mathematical problem that intrigued him like no other. The problem involved circles and lattice points, and it sparked a flame of curiosity within him. He couldn't help but wonder how circles could form a unique pattern, creating a lenticular hole. His imagination ran wild as he imagined the intricate designs these circles could create in the vastness of the night sky.\n\nUnable to contain his excitement, Ethan quickly made his way to the village's wise old mathematician, Professor Lawrence. The professor was known for his encyclopedic knowledge and prompt solutions to even the most complicated of mathematical dilemmas.\n\n\"Professor Lawrence, I've come across the most fascinating problem!\" Ethan exclaimed, eyes shining with anticipation.\n\nThe professor looked up from his desk, adjusting his round spectacles and fixing his attentive gaze on Ethan. \"What seems to have captivated your young mind today, my boy?\" he asked kindly.\n\nEthan eagerly shared the details of the lenticular hole problem he had discovered in the old book. The professor listened intently, intrigued by the young boy's enthusiasm. He pondered the problem for a moment, stroking his long beard, and then smiled.\n\n\"You know, Ethan, the concept of lenticular holes has fascinated mathematicians for centuries. It is an elegant and elusive pattern that challenges the boundaries of our understanding of geometry. If we could solve this problem, it would open new doors to the world of mathematics.\"\n\nEthan's eyes widened with anticipation. His mind raced with endless possibilities as he imagined the potential applications of lenticular holes.\n\n\"Professor, how can we solve this problem? Can we find out the number of distinct lenticular pairs for any given value of N?\" Ethan asked, his voice trembling with excitement.\n\nThe professor chuckled, delighted by Ethan's thirst for knowledge. \"Ah, that is a question that has yet to be answered, my young friend. But I believe that together, we can embark on this mathematical journey and venture where no one has gone before.\"\n\nFrom that day forward, Ethan and Professor Lawrence delved into the enchanting world of lenticular holes. They spent countless evenings pouring over equations and diagrams, their minds entwined in a symphony of numbers and patterns. They held spirited debates and celebrated small victories, gradually unlocking the secrets of the lenticular pairs.\n\nAs days turned into weeks, and weeks turned into months, Ethan and the professor started to crack the code of lenticular holes. They made remarkable progress, but each new discovery revealed even more tantalizing questions. The journey to find L(100,000) became their ultimate quest.\n\nAnd now, dear reader, the time has come for you to answer the challenge that Ethan and Professor Lawrence faced. Can you find L(100,000)? Can you solve the intricate puzzle of lenticular pairs and unravel the mysteries of the mathematical universe?\n\nAs you embark on this journey, remember that the answers you seek lie not in plain sight but in the depths of your imagination. May the magic of mathematics guide you to the solution, and may the joy of discovery be your greatest reward. So tell me, dear reader, can you find L(100,000)?"}, {"id": 373, "euler_id": 373, "title": "Circumscribed Circles", "problem": "\nEvery triangle has a circumscribed circle that goes through the three vertices.\nConsider all integer sided triangles for which the radius of the circumscribed circle is integral as well.\n\n\nLet S(n) be the sum of the radii of the circumscribed circles of all such triangles for which the radius does not exceed n.\n\nS(100)=4950 and S(1200)=1653605.\n\n\nFind S(107).\n", "solution": "727227472448913", "difficulty": 75, "story": "Once upon a time in the small village of Numeria, there lived a young boy named Ethan. Ethan was known for his love of numbers and geometry, spending countless hours exploring the wonders of the mathematical realm. His favorite pastime was to play around with triangles, using their various dimensions to decipher their secrets.\n\nOne day, as he was strolling through the village, he stumbled upon a mysterious book tucked away in the dusty corner of a rundown bookstore. Intrigued, he blew off the layers of dust and opened it gingerly. To his delight, the book contained an intriguing mathematical problem.\n\nEvery triangle had a circumscribed circle that went through the three vertices. Ethan was captivated. He had always marveled at the symmetry and elegance of circles, and the idea of exploring their connection to triangles excited him greatly. But there was more. The mathematical problem presented him with a challenge \u2013 he had to find all the triangles with integral sides that had an integral radius for their circumscribed circle.\n\nEthan's eyes shone with determination as he started experimenting with triangles, trying to find a pattern. He spent hours, days, and weeks immersed in his pursuit. As the village went about its usual activities, Ethan locked himself in his small room, squeezing out his every ounce of knowledge to crack the problem. The triangles danced in his dreams, circling across his imagination like ethereal creatures.\n\nWith each passing day, Ethan's excitement grew. His knowledge of triangles deepened, and he began noticing intriguing connections between their sides, angles, and the radii of their circumscribed circles. Inspired by his newfound understanding, he discovered that the key to solving the problem lay in the intricate relationship between geometry and number theory.\n\nDetermined to find the answer, Ethan tirelessly scribbled notes, undoing one equation after another. His fingers itched with anticipation as he snuck out of his room and headed for the village marketplace. There, he encountered the village elder \u2013 a wise and seasoned mathematician named Professor Oliver.\n\nEthan approached the professor, his heart pounding with excitement. He shared his journey of exploration, his attempts to solve the mathematical problem that had consumed him for weeks. Professor Oliver listened attentively, nodding at the young boy's enthusiasm. Then, he gently closed his eyes for a moment, as if contemplating a profound revelation.\n\n\"Young Ethan,\" the professor said, his voice filled with wisdom, \"you have embarked on a remarkable journey. The link you've discovered between triangles and circles is, indeed, an integral part of mathematical beauty. But remember, the path to finding answers lies not only in the discovery but also in the perseverance.\"\n\nWith those words, Professor Oliver handed Ethan a new challenge. Find the sum of the radii of the circumscribed circles for all the triangles with integral sides, where the radius does not exceed a certain number, n. He told Ethan that the sum for n = 100 was 4950 and for n = 1200 it was 1653605.\n\nEthan's eyes widened with awe and excitement. He had discovered the answer to part of the puzzle, but he knew the question remained: What was the sum, S(n), for n = 107?\n\nWith renewed determination, Ethan retreated to his room, where he delved even deeper into his studies. As the days turned into weeks, he made progress, piecing together equations and formulas. But the elusive answer to S(107) continued to taunt him.\n\nAnd so, dear reader, I pose this question to you: Can you uncover the sum, S(107), the culmination of Ethan's tireless efforts? Can you unlock the secret to the radii of the circumscribed circles of these special triangles?\n\nThe answer awaits, beautifully hidden amongst the mysteries of mathematics."}, {"id": 391, "euler_id": 391, "title": "Hopping Game", "problem": "Let sk be the number of 1\u2019s when writing the numbers from 0 to k in binary.\nFor example, writing 0 to 5 in binary, we have 0,1,10,11,100,101. There are seven 1\u2019s, so s5=7.\nThe sequence S={sk:k\u22650} starts {0,1,2,4,5,7,9,12,...}.\nA game is played by two players. Before the game starts, a number n is chosen. A counter c starts at 0. At each turn, the player chooses a number from 1 to n (inclusive) and increases c by that number. The resulting value of c must be a member of S. If there are no more valid moves, then the player loses.\nFor example, with n=5 and starting with c=0:\nPlayer 1 chooses 4, so c becomes 0+4=4.\nPlayer 2 chooses 5, so c becomes 4+5=9.\nPlayer 1 chooses 3, so c becomes 9+3=12.\netc.\nNote that c must always belong to S, and each player can increase c by at most n.\nLet M(n) be the highest number that the first player could choose at the start to force a win, and M(n)=0 if there is no such move. For example, M(2)=2, M(7)=1, and M(20)=4.\nIt can be verified that \u2211M(n)3=8150 for 1\u2264n\u226420.\nFind \u2211M(n)3 for 1\u2264n\u22641000.", "solution": "61029882288", "difficulty": 75, "story": "Once upon a time in the small town of Numeria, there lived two siblings, Alex and Lily. They were known for their sharp minds, especially when it came to numbers and puzzles. Every summer, the town held the \"Mathematical Games\" where brilliant kids from all over gathered to compete and showcase their mathematical prowess.\n\nThis year, the Mathematical Games had a new challenge that caught Alex and Lily's attention. They were intrigued by a problem that seemed rather perplexing: Find \u2211M(n)3 for 1\u2264n\u22641000. The siblings were determined to solve it, but they needed more information. They combed through their collection of math books, but this particular problem was nowhere to be found.\n\nCuriosity got the best of them, and they set out to seek help from the wise old mathematician, Professor Fibonacci. According to the legends, Professor Fibonacci had a vast knowledge of all mathematical problems ever known. Finding his secluded cabin deep in the woods, they presented the problem to him.\n\nThe mathematician's eyes gleamed with excitement as he listened to their request. He invited them in, wearing a mischievous smile. \"Ah, the notorious M(n) puzzle,\" he exclaimed. \"It has intrigued many mathematicians throughout the years.\"\n\nAlex and Lily were thrilled to have found someone who knew about the problem. The professor went on to explain, \"Let's consider a game where two players take turns choosing numbers from 1 to n and add them to a counter, c. The resulting value of c must belong to a sequence called S. If a player can no longer make a valid move, they lose. Your task is to find the highest number the first player can choose to force themselves into winning the game.\"\n\nThe siblings were fascinated by the concept, understanding the importance of each number and its relation to the sequence S. They realized it was a battle of wits and strategy. Professor Fibonacci shared some examples to illustrate how the game played out with different values of n.\n\nAs they delved deeper into the problem, Alex and Lily started seeing patterns and connections between the sequence S and the game itself. It became evident that the values of M(n) were crucial in determining the outcome of the game. Together, they devised strategies, trying to figure out the patterns and optimize their chances of victory.\n\nDays turned into weeks, and weeks into months as Alex and Lily dedicated themselves to unraveling the mysteries of M(n). They would often sit under the starry night sky, scribbling equations and theories on their papers, hoping to find the answer.\n\nFinally, after a year of diligent effort, their eyes sparkled with satisfaction as they believed they had found the key to crack the problem. They thanked Professor Fibonacci for his guidance and set out upon their return to Numeria.\n\nAs their journey continued, they pondered the sheer magnitude of the problem they had tackled. The summation of M(n) cubed for 1\u2264n\u22641000 was no small feat. They knew they had embarked on an adventure that would test their mathematical prowess and stand as a testament to their determination.\n\nAs they approached the outskirts of Numeria, their hearts filled with anticipation. They couldn't wait to share their findings with the town, to inspire others with their journey and maybe even discover a new generation of mathematical wonders.\n\nBut as they entered Numeria, they realized there was still one hurdle remaining\u2014a question that eluded them. They turned to the reader and asked, \"Can you solve the seemingly insurmountable challenge and find \u2211M(n)3 for 1\u2264n\u22641000?\"\n\nWith that, Alex and Lily's mathematical journey came to an end, leaving the town of Numeria and its residents buzzing with excitement. The Mathematical Games would never be the same again, forever changed by the legacy of these young mathematicians.\n\nAs the town prepared for the upcoming event, the question remained in the air, waiting for someone to rise to the challenge. Now, it was up to the readers to pick up the mantle and solve the puzzle as Alex and Lily had done."}, {"id": 413, "euler_id": 413, "title": "One-child Numbers", "problem": "We say that a d-digit positive number (no leading zeros) is a one-child number if exactly one of its sub-strings is divisible by d.\nFor example, 5671 is a 4-digit one-child number. Among all its sub-strings 5, 6, 7, 1, 56, 67, 71, 567, 671 and 5671, only 56 is divisible by 4.\nSimilarly, 104 is a 3-digit one-child number because only 0 is divisible by 3.\n1132451 is a 7-digit one-child number because only 245 is divisible by 7.\nLet F(N) be the number of the one-child numbers less than N.\nWe can verify that F(10) = 9, F(103) = 389 and F(107) = 277674.\nFind F(1019).", "solution": "3079418648040719", "difficulty": 75, "story": "Once upon a time in the bustling city of Mathlandia, there lived a young and curious girl named Alice. Alice had always been fascinated by numbers, their patterns, and their secrets. She spent hours exploring the realm of mathematics, eager to uncover hidden treasures that lay within its vast expanse.\n\nOne fateful day, while Alice was deep in thought, trying to solve a particularly challenging math problem, she stumbled upon an old, dusty book in her grandmother's attic. As she blew off the dust, a golden sparkle caught her eye, and she discovered a hidden compartment containing a handwritten note. It was a letter from her late grandfather, a renowned mathematician.\n\nIntrigued, Alice carefully unfolded the fragile paper and began to read. Her grandfather explained that he had spent his whole life searching for a certain type of number. He called them \"one-child numbers\" \u2013 unique and rare digits that held a secret power.\n\nThe note went on to describe the magical properties of one-child numbers. Weaving the problem into the story, Alice's grandfather explained that a d-digit positive number (without leading zeros) was considered a one-child number if only one of its substrings was divisible by d. The examples given in the note further fueled Alice's curiosity.\n\nDriven by her grandfather's passion, Alice resolved to carry on his legacy and continue the search for one-child numbers. She dived into the realm of numbers, exploring their depths, and seeking patterns in their arrangement. With the help of her extensive knowledge and her grandfather's guidance, Alice began to unravel the secrets of these mystical numbers.\n\nAs she delved deeper, Alice discovered that one-child numbers held immense power in reshaping the world around them. They had the ability to unlock doors long thought to be impenetrable and solve complex problems that seemed insurmountable. The more she understood, the more Alice realized that these numbers were interwoven into the very fabric of the universe.\n\nWith each passing day, Alice's excitement grew. She couldn't help but wonder, how many one-child numbers existed? How could they be calculated? And most importantly, what was the largest one-child number ever discovered?\n\nDriven by her burning desire to solve these mysteries, Alice spent countless hours poring over ancient texts, scribbling formulas, and testing her theories. As her knowledge expanded, so did her mind, opening doorways to new and unexplored mathematical territories.\n\nHowever, even with all her efforts, Alice still found herself unable to determine the answer to her burning question. It seemed as if the number of one-child numbers was as elusive as the digits themselves. Undeterred, she continued her quest, delving deeper into the rabbit hole of mathematics.\n\nAnd so, dear reader, I pose the same question to you: can you solve the riddle of the one-child numbers? Can you find the number of one-child numbers less than N? Join Alice in her extraordinary journey through the enchanting realm of numbers and unlock the secrets that lie within. The answers await you, nestled between the lines of their mathematical dance. Will you dare to find them?"}, {"id": 422, "euler_id": 422, "title": "Sequence of points on a hyperbola", "problem": "Let H be the hyperbola defined by the equation 12x2 + 7xy - 12y2 = 625.\nNext, define X as the point (7, 1). It can be seen that X is in H.\nNow we define a sequence of points in H, {Pi : i \u2265 1}, as:\n P1 = (13, 61/4).\n P2 = (-43/6, -4).\n For i > 2, Pi is the unique point in H that is different from Pi-1 and such that line PiPi-1 is parallel to line Pi-2X. It can be shown that Pi is well-defined, and that its coordinates are always rational.\n\nYou are given that P3  = (-19/2, -229/24), P4 = (1267/144, -37/12) and P7 = (17194218091/143327232, 274748766781/1719926784).\nFind Pn for n = 1114 in the following format:If Pn = (a/b, c/d) where the fractions are in lowest terms and the denominators are positive, then the answer is (a + b + c + d) mod 1\u00a0000\u00a0000\u00a0007.\nFor n = 7, the answer would have been: 806236837.", "solution": "92060460", "difficulty": 75, "story": "Once upon a time, in a land ruled by logic and reason, there lived a young girl named Elysia. Elysia possessed an insatiable curiosity for numbers and patterns. She would spend her days poring over mathematical puzzles and riddles, constantly seeking the next challenge that would stretch the limits of her mind.\n\nOne day, as Elysia was exploring the enchanting forest near her village, she stumbled upon a peculiar book hidden deep within a moss-covered hollow. Intrigued, she opened it, and to her astonishment, she found a mathematical problem written in elegant script on the very first page.\n\nAs Elysia read the problem, her eyes widened with excitement. It seemed that this mathematical puzzle held the key to discovering a hidden world filled with unimaginable wonders. The problem spoke of a hyperbola, H, defined by a complex equation. It described a sequence of points, Pi, that followed a particular pattern. Curiosity overwhelmed Elysia, and with a determined heart, she resolved to decipher the mystery.\n\nDriven by the desire to unravel the enigma, Elysia embarked on a journey. She roamed far and wide, consulting scholars and sages, searching for clues that would lead her closer to the answer. Along her path, Elysia met remarkable individuals who had dedicated their lives to the pursuit of knowledge. They shared their theories, exchanged insights, and marveled at the beauty of mathematics.\n\nAs days turned into weeks, Elysia's passion only grew stronger. She delved deeper into the intricacies of the hyperbola and its associated points. With every step forward, she uncovered the rational nature of their coordinates - a rarity that few problems possessed. The elegance of the mathematics surrounded her, fueling her determination to unlock its secrets.\n\nPoring over the countless calculations and formulae, Elysia deciphered the coordinates of several points in the sequence outlined in the problem. She marveled at the precision and beauty of the answers. Each point was unique, yet connected to its predecessors and successors by a delicate thread of parallel lines. It was as if the universe had conspired to bring forth these remarkable numbers.\n\nYet, as Elysia progressed, the problem became more challenging. The sequence grew longer, the calculations more intricate. Her search for the hidden point Pn, where n equaled 1114, pushed her limits as a mathematician. It seemed as if the answer lay just beyond her reach, obscured by a veil of infinite possibilities.\n\nNow, dear reader, I pose this question to you: Can you solve the riddle that has bewitched Elysia? Can you find Pn for n = 1114? The fate of Elysia's quest hinges upon your ability to unravel the mathematical mystery that lies hidden within the depths of H.\n\nAs the winds whispered through the trees and the stars twinkled above, Elysia gazed up with a gleam in her eyes, ready to embark on her next adventure. Will she ever uncover the truth behind the sequence of points in H? Will she find the elusive Pn? Only you hold the answer.\n\nSolve the mathematical problem, and let Elysia's journey continue in the realm of the unknown."}, {"id": 426, "euler_id": 426, "title": "Box-ball system", "problem": "\nConsider an infinite row of boxes. Some of the boxes contain a ball. For example, an initial configuration of 2 consecutive occupied boxes followed by 2 empty boxes, 2 occupied boxes, 1 empty box, and 2 occupied boxes can be denoted by the sequence (2, 2, 2, 1, 2), in which the number of consecutive occupied and empty boxes appear alternately.\n\n\nA turn consists of moving each ball exactly once according to the following rule: Transfer the leftmost ball which has not been moved to the nearest empty box to its right.\n\n\nAfter one turn the sequence (2, 2, 2, 1, 2) becomes (2, 2, 1, 2, 3) as can be seen below; note that we begin the new sequence starting at the first occupied box.\n\n\n\n\nA system like this is called a Box-Ball System or BBS for short.\n\n\nIt can be shown that after a sufficient number of turns, the system evolves to a state where the consecutive numbers of occupied boxes is invariant. In the example below, the consecutive numbers of occupied boxes evolves to [1, 2, 3]; we shall call this the final state.\n\n\n\n\nWe define the sequence {ti}:s0 = 290797\nsk+1 = sk2 mod 50515093\ntk = (sk mod 64) + 1\n\nStarting from the initial configuration (t0, t1, \u2026, t10), the final state becomes [1, 3, 10, 24, 51, 75].\nStarting from the initial configuration (t0, t1, \u2026, t10 000 000), find the final state.\nGive as your answer the sum of the squares of the elements of the final state. For example, if the final state is [1, 2, 3] then 14 ( = 12 + 22 + 32) is your answer.\n", "solution": "31591886008", "difficulty": 75, "story": "Once upon a time, in a land far away, there existed a magical forest known as Mathemoria. In this forest, numbers were alive, equations grew like trees, and the inhabitants reveled in the beauty of mathematics. Among the many creatures that roamed this enchanted realm, there was a young sorcerer named Ethan.\n\nEthan possessed an extraordinary affinity for numbers. He could sense their patterns and unravel complex equations with ease. His greatest passion, however, lay in the Box-Ball System (BBS). This system fascinated him, for it combined mathematical precision with a touch of magic.\n\nOne sunny day, as Ethan was exploring the depths of Mathemoria, he stumbled upon an ancient scroll. It contained the legendary formula that powered the BBS. Eager to understand its mysteries, he began studying the scroll, losing himself in its labyrinth of numbers and sequences.\n\nAs Ethan delved deeper into the scroll, he discovered something astonishing. The numbers in the BBS sequence seemed to possess a life of their own. They moved, shifting from box to box like tiny, dancing marbles. This revelation ignited Ethan's imagination and filled his heart with excitement.\n\nDetermined to unravel the full potential of the BBS, Ethan embarked on a quest to find the final state of the system. Armed with his knowledge and the initial configuration (t0, t1, \u2026, t10), he set out to solve the mystery.\n\nVenturing through the mystical forest, Ethan encountered various mathematical challenges. Equations danced around him, testing his understanding of number theory and geometry. With each challenge he conquered, the forest revealed another piece of the puzzle, guiding him closer to the solution.\n\nDays turned into weeks, and weeks into months, but Ethan remained undeterred. His belief in the power of mathematics fueled his determination. He realized that the final state of the BBS held immense significance, for it unlocked a hidden door in Mathemoria - a door that led to untold knowledge and unimaginable magic.\n\nThe final leg of Ethan's journey took him to the summit of Mount Numerus, a towering peak that overlooked the entire forest. Armed with the wisdom he had gained, Ethan reached the peak and stared at the horizon, contemplating the task ahead.\n\nThe question lingered in his mind: Starting from the initial configuration (t0, t1, \u2026, t10 000 000), what would be the final state? Ethan knew that the answer to this mathematical riddle would grant him the key to Mathemoria's ultimate secrets.\n\nAs the wind whispered through the trees, Ethan's eyes gleamed with anticipation. The weight of the world's knowledge rested upon his shoulders, and with a defiant smile, he asked himself, \"Can you solve the final puzzle of the Box-Ball System? Will you unlock the door to infinite wisdom?\"\n\nAnd so, dear reader, the story comes to an end. The ancient scroll and the secrets of the BBS lie in your hands now. Can you solve the mystery? What will be the sum of the squares of the elements in the final state?\n\nThe decision is yours."}, {"id": 434, "euler_id": 434, "title": "Rigid graphs", "problem": "Recall that a graph is a collection of vertices and edges connecting the vertices, and that two vertices connected by an edge are called adjacent.\nGraphs can be embedded in Euclidean space by associating each vertex with a point in the Euclidean space.\nA flexible graph is an embedding of a graph where it is possible to move one or more vertices continuously so that the distance between at least two nonadjacent vertices is altered while the distances between each pair of adjacent vertices is kept constant.\nA rigid graph is an embedding of a graph which is not flexible.\nInformally, a graph is rigid if by replacing the vertices with fully rotating hinges and the edges with rods that are unbending and inelastic, no parts of the graph can be moved independently from the rest of the graph.\n\nThe grid graphs embedded in the Euclidean plane are not rigid, as the following animation demonstrates:\n\nHowever, one can make them rigid by adding diagonal edges to the cells. For example, for the 2x3 grid graph, there are 19 ways to make the graph rigid:\n\nNote that for the purposes of this problem, we do not consider changing the orientation of a diagonal edge or adding both diagonal edges to a cell as a different way of making a grid graph rigid.\n\nLet R(m,n) be the number of ways to make the m \u00d7 n grid graph rigid. \nE.g. R(2,3) = 19 and R(5,5) = 23679901\n\nDefine S(N) as \u2211\u2009R(i,j) for 1 \u2264 i, j \u2264 N.\nE.g. S(5) = 25021721.\nFind S(100), give your answer modulo 1000000033.\n", "solution": "863253606", "difficulty": 75, "story": "Once upon a time, in the land of Euclidia, there was a young mathematician named Amelia. Amelia had always been fascinated by the abstract world of numbers and equations, and her greatest joy was solving complex mathematical problems.\n\nOne day, while browsing through an old library, Amelia stumbled upon an ancient book filled with intriguing puzzles and mathematical mysteries. As she flipped through the pages, one problem in particular caught her eye. It was about grid graphs and their rigidity.\n\nIntrigued, Amelia delved deeper into the problem. She learned that grid graphs could be embedded in Euclidean space, connecting vertices with edges. Some graphs were flexible, meaning their vertices could be moved continuously without altering the distance between adjacent vertices, while others were rigid, meaning the vertices were fixed in place.\n\nAmelia couldn't help but wonder how to determine if a grid graph was rigid or flexible. She discovered that researchers had found a way to make grid graphs rigid by adding diagonal edges to the cells. The more diagonal edges added, the more possibilities there were for making the graph rigid.\n\nAmelia was fascinated by this concept. She imagined grid graphs as little puzzles, each with its own unique solution for rigidity. It was like solving a puzzle game, finding the right combination of diagonal edges to make the graph rigid.\n\nThe more Amelia studied and experimented with grid graphs, the more captivated she became. She spent endless hours sketching and calculating, trying to understand the intricacies of rigidity. She wanted to know why some grid graphs had a multitude of solutions while others only had a few.\n\nAmelia's passion for grid graphs soon spread throughout Euclidia. Mathematicians from far and wide became intrigued by the concept and began to explore the mysteries of rigidity themselves. The search for the number of ways to make a grid graph rigid became a fervent quest for knowledge.\n\nAs Amelia continued her exploration, she realized that the number of ways to make a grid graph rigid could be summed up. She defined a function, R(m,n), to represent the number of ways to make a grid graph of size m x n rigid. And to further understand the concept, she also defined another function, S(N), which represented the sum of R(i,j) for all values of i and j from 1 to N.\n\nAmelia's mind was ablaze with ideas and calculations. She spent countless nights scribbling equations and solving equations, trying to find the pattern hidden within the numbers. But no matter how hard she tried, she couldn't crack the code. The answer eluded her, slipping through her grasp like sand.\n\nNow, dear reader, I pose a question to you. Can you solve this mathematical mystery? Can you find the value of S(100) modulo 1000000033? Dive into the depths of Euclidia's mathematical wonders and unlock the secrets of grid graph rigidity. The answer awaits you, eager to be uncovered.\n\nWho will be the one to solve this puzzle and unravel the secrets of rigidity? Only time will tell."}, {"id": 471, "euler_id": 471, "title": "Triangle inscribed in ellipse", "problem": "The triangle \u0394ABC is inscribed in an ellipse with equation x2a2+y2b2=1, 0\u00a0<\u00a02b\u00a0<\u00a0a, a and b integers.\nLet r(a,b) be the radius of the incircle of \u0394ABC when the incircle has center (2b, 0) and A has coordinates (a2,32b).\nFor example, r(3,1)\u00a0=\u00a0\u00bd, r(6,2)\u00a0=\u00a01, r(12,3)\u00a0=\u00a02.\n\n\nLet G(n)=\u2211a=3n\u2211b=1\u230aa\u221212\u230br(a,b)\nYou are given G(10) = 20.59722222, G(100) = 19223.60980 (rounded to 10 significant digits).\nFind G(1011).\nGive your answer in scientific notation rounded to 10 significant digits. Use a lowercase e to separate mantissa and exponent.\nFor G(10) the answer would have been 2.059722222e1.", "solution": "1.895093981e31", "difficulty": 75, "story": "Once upon a time in the idyllic town of Mathville, there lived a young mathematician named Alice. She had an insatiable curiosity and a deep love for all things mathematical. Alice spent most of her days exploring the wonders of the town's library, uncovering hidden mathematical treasures that had been carefully preserved over the years.\n\nOne sunny afternoon, as Alice was engrossed in a book about geometric shapes, she stumbled upon an intriguing problem. The problem described a triangle, \u0394ABC, that was inscribed in an ellipse with a unique equation, x^2/a^2 + y^2/b^2 = 1. It stated that the radius of the incircle of \u0394ABC, when the incircle had a center at (2b, 0) and point A had coordinates (a^2, 32b), could be calculated using the function r(a, b). The problem then went on to define a new function called G(n), which summed up various calculations of radius values using different values of a and b.\n\nThis particular challenge fascinated Alice and sparked her imagination. She spent countless hours pondering the problem's intricacies, sketching diagrams, and scribbling equations on her notepad. As her understanding grew, Alice realized that the function G(n) held immense mathematical beauty. It seemed to encapsulate the essence of this mysterious triangle inscribed in an ellipse.\n\nDays turned into weeks, and then months, as Alice delved deeper into the problem. She was determined to uncover its secrets and understand the underlying patterns. The more she explored, the more enthralled she became. Bit by bit, she tracked the sum of G(n) for various values of n. Slowly but surely, a pattern emerged, unveiling a world of mathematical marvels.\n\nEventually, Alice stumbled upon a breakthrough. Through her careful calculations, she discovered the value of G(10) - it was 20.59722222. Excitement coursed through her veins as she began to grasp the intricacies of the problem. But she knew that this was only the tip of the iceberg. There was much more to uncover, and G(100) was next on her list.\n\nAlice eagerly embarked on her quest to find the sum of G(100). She dived into a sea of formulas, graphs, and numerical computations. Days turned into nights as she tirelessly worked towards her goal. Finally, success was within her grasp. After countless hours of meticulous calculations, Alice triumphantly declared G(100) to be 19223.60980, rounded to ten significant digits.\n\nBut the story does not end here. Alice's journey is far from over. As she gazes at the number representing G(100), curiosity stirs within her once more. She wonders what lies beyond G(100), beyond the limits of her present knowledge. The mathematical problem that has captivated her for so long now beckons her to solve yet another value, a seemingly insurmountable challenge.\n\nAs she sits in the library, surrounded by the echoes of mathematical wisdom, Alice leans in closer to her books. With eyes gleaming and mind buzzing, she asks herself a question: \"What is G(1011)?\"\n\nAnd so, dear reader, I pose the same question to you. Can you solve this grand mathematical conundrum? What is G(1011)? The answer lies in the realm of numbers, concepts, and mathematical brilliance, waiting to be uncovered by an intrepid soul like you."}, {"id": 524, "euler_id": 524, "title": "First Sort II", "problem": "Consider the following algorithm for sorting a list:\n1. Starting from the beginning of the list, check each pair of adjacent elements in turn.\n2. If the elements are out of order:\na. Move the smallest element of the pair at the beginning of the list.\nb. Restart the process from step 1.\n3. If all pairs are in order, stop.For example, the list { 4 1 3 2 } is sorted as follows:\n4 1 3 2  (4 and 1 are out of order so move 1 to the front of the list)\n1 4 3 2  (4 and 3 are out of order so move 3 to the front of the list)\n3 1 4 2  (3 and 1 are out of order so move 1 to the front of the list)\n1 3 4 2  (4 and 2 are out of order so move 2 to the front of the list)\n2 1 3 4  (2 and 1 are out of order so move 1 to the front of the list)\n1 2 3 4  (The list is now sorted)Let F(L) be the number of times step 2a is executed to sort list L. For example, F({ 4 1 3 2 }) = 5.\nWe can list all permutations P of the integers {1, 2, ..., n} in lexicographical order, and assign to each permutation an index In(P) from 1 to n! corresponding to its position in the list.\n\nLet Q(n, k) = min(In(P)) for F(P) = k, the index of the first permutation requiring exactly k steps to sort with First Sort. If there is no permutation for which F(P) = k, then Q(n, k) is undefined.\nFor n = 4 we have:\nPI4(P)F(P){1, 2, 3, 4}10Q(4, 0) = 1{1, 2, 4, 3}24Q(4, 4) = 2{1, 3, 2, 4}32Q(4, 2) = 3{1, 3, 4, 2}42{1, 4, 2, 3}56Q(4, 6) = 5{1, 4, 3, 2}64{2, 1, 3, 4}71Q(4, 1) = 7{2, 1, 4, 3}85Q(4, 5) = 8{2, 3, 1, 4}91{2, 3, 4, 1}101{2, 4, 1, 3}115{2, 4, 3, 1}123Q(4, 3) = 12{3, 1, 2, 4}133{3, 1, 4, 2}143{3, 2, 1, 4}152{3, 2, 4, 1}162{3, 4, 1, 2}173{3, 4, 2, 1}182{4, 1, 2, 3}197Q(4, 7) = 19{4, 1, 3, 2}205{4, 2, 1, 3}216{4, 2, 3, 1}224{4, 3, 1, 2}234{4, 3, 2, 1}243Let R(k) = min(Q(n, k)) over all n for which Q(n, k) is defined.\nFind R(1212).", "solution": "2432925835413407847", "difficulty": 75, "story": "Once upon a time in the vibrant town of Lexico, there lived a young and curious mathematician named Alice. Alice's days were filled with excitement and wonder as she explored the intricate world of numbers and patterns. \n\nOne sunny morning, as Alice was walking through the bustling marketplace, she heard a whisper that sparked her curiosity. It was said that hidden deep within the enchanted forest of Lexico lay a magical artifact known as the Chronos Crystal. Legend had it that this crystal could grant a single wish to only those who could solve a perplexing mathematical problem.\n\nIntrigued, Alice decided to embark on a thrilling journey to find the Chronos Crystal. She delved into ancient texts and consulted wise mathematicians, seeking clues that would lead her closer to her goal. It was during her research that she stumbled upon the peculiar algorithm for sorting a list.\n\nAlice's eyes sparkled with excitement as she realized that this algorithm could be the key to unlocking the mystery of the Chronos Crystal. She studied it tirelessly, determined to understand its inner workings. With each passing day, she grew more confident that she could make sense of the cryptic symbols and numbers.\n\nArmed with her newfound knowledge, Alice ventured into the depths of the enchanted forest. Guided by the soft glow of the moon, she followed a winding path that seemed to appear magically before her. Along the way, she encountered mystical creatures and encountered various obstacles, but she never lost sight of her primary goal: solving the mathematical problem.\n\nAs she trudged deeper into the forest, Alice's excitement turned to frustration. The algorithm was proving more challenging than she had anticipated. She wrestled with complex permutations and tirelessly calculated the minimum number of steps required to sort a list. \n\nHours turned into days, and days into weeks, yet Alice remained undeterred. She pushed herself to the limits of her mental capacity, unwilling to relinquish her quest. Her unwavering determination caught the attention of the forest's ancient guardian, an ethereal figure known as the Mathematician Guardian.\n\nImpressed by Alice's dedication, the Mathematician Guardian decided to test her resolve. He appeared before her, clad in robes that seemed to shimmer with the secrets of the universe. The guardian presented Alice with a formidable challenge: to find the value of R(1212), the minimum value of Q(n, k) for a specific set of parameters.\n\nAlice's heart raced with both excitement and trepidation. She had come so far in her quest, yet this question seemed insurmountable. She drew upon all her knowledge, drawing connections between the algorithm and the enigmatic value she sought. With each passing moment, her mind raced, analyzing and calculating until her head felt like it would burst.\n\nFinally, her tireless efforts bore fruit. Alice's eyes widened with disbelief and awe as she deciphered the solution to the mathematical problem presented by the Mathematician Guardian. However, before she could celebrate her victory or the realization of her wish, the story ends, leaving the reader pondering the question:\n\nWhat is the value of R(1212)?\n\nWith bated breath, the reader is invited to unravel the mystery and discover the answer that eluded Alice until the very last moment."}, {"id": 560, "euler_id": 560, "title": "Coprime Nim", "problem": "Coprime Nim is just like ordinary normal play Nim, but the players may only remove a number of stones from a pile  that is coprime with the current size of the pile. Two players remove stones in turn. The player who removes the last stone wins.\nLet L(n,\u00a0k) be the number of losing starting positions for the first player, assuming perfect play, when the game is played with k piles, each having between 1 and n\u00a0-\u00a01 stones inclusively.\nFor example, L(5,\u00a02)\u00a0=\u00a06 since the losing initial positions are (1,\u00a01), (2,\u00a02), (2,\u00a04), (3,\u00a03), (4,\u00a02) and (4,\u00a04).\nYou are also given L(10,\u00a05)\u00a0=\u00a09964, L(10,\u00a010)\u00a0=\u00a0472400303, L(103,\u00a0103)\u00a0mod\u00a01\u00a0000\u00a0000\u00a0007\u00a0=\u00a0954021836.\nFind L(107,\u00a0107)\u00a0mod\u00a01\u00a0000\u00a0000\u00a0007", "solution": "994345168", "difficulty": 75, "story": "Once upon a time, in the distant kingdom of Numeria, there was a young and curious prince named Sebastian. Sebastian had a penchant for puzzles and would often spend hours lost in thought, contemplating the intricacies of mathematics. His fascination with numbers had earned him the title of the \"Mathematical Prince.\"\n\nOne sunny day, as Sebastian ventured through the vast gardens of his palace, he stumbled upon a peculiar stone pathway. The path was adorned with enigmatic symbols and intricate patterns, all leading to a hidden garden known only to a select few. Sebastian's eyes twinkled with excitement, for he knew that within that secret garden resided the most extraordinary mathematical problem that had ever been solved.\n\nWith bated breath, he entered the garden and looked around in awe. The air was thick with magic and the fragrance of blossoming flowers filled his senses. But it was an ancient stone tablet, nestled amongst a bed of roses, that caught his attention.\n\nEagerly, Sebastian approached the tablet and read the inscription etched upon its surface. It spoke of a game called Coprime Nim, a variation of the popular play Nim. According to the tablet, the players could only remove a number of stones from a pile if it was coprime with the current size of the pile. The objective of the game was simple\u2014remove the last stone to emerge triumphant.\n\nAs Sebastian absorbed the rules, his mind began to race with possibilities. He realized that this game's strategy was unlike anything he had ever encountered. The restriction imposed by the coprime condition added an intriguing complexity that intrigued him greatly.\n\nDetermined to understand the profound depths of Coprime Nim, Sebastian immersed himself in the stupefying calculations that lay before him. He spent countless hours mulling over the game's intricacies, analyzing possible moves, and strategizing. L(n, k) became his constant companion, as he attempted to decipher the number of losing starting positions for the first player, assuming perfect play.\n\nThe days turned into weeks, and the weeks into months, but Sebastian's determination did not waver. His research papers piled high as he experimented and sought patterns, conquering each pile size one by one.\n\nAs time went on, tales of the Mathematical Prince traveled far and wide. People were awestruck by his passion and resolve, marveling at how numbers seemed to whisper secrets to him. The nobles regarded him with reverence, the scholars sought his guidance, and his subjects saw him as a luminary of knowledge.\n\nFinally, the moment arrived when Sebastian stood on the brink of unraveling the final mystery. It was the coveted L(107, 107). Sebastian knew that solving this would be his greatest triumph yet, but he also realized that he needed to share this enigma with the world.\n\nBut how could he present it in a way that ignited the same passion and curiosity that burned within him? How could he share L(107, 107) with the masses without giving away the answer and depriving them of the joy of discovery?\n\nHis brow furrowed as he pondered these questions. And then, a spark of inspiration ignited within him. Sebastian decided to write a book, a majestic tale of adventure, mystery, and mathematical wonderment. It would be his gift to the world, an opportunity for others to journey alongside him on this remarkable mathematical odyssey.\n\nAs Sebastian put pen to paper, his imagination ran wild. He crafted a story of a brave knight who embarks on a quest, guided by mysterious numerical clues. Each challenge the knight faces, each puzzle he solves, brings him closer to the elusive answer to L(107, 107).\n\nAs the book neared completion, Sebastian knew that he had achieved his goal. The story captured the hearts and minds of its readers, inspiring new generations of young mathematicians. The book offered a chance for everyone to embark on their own adventure, to explore the vast realm of numbers, and to experience the thrill of solving the mathematical problem that had captivated the Mathematical Prince for so long.\n\nAnd so, dear reader, I pose this final question to you: Will you accept the knight's mantle, will you join Sebastian on his quest, and will you solve L(107, 107) using the knowledge he has shared? The kingdom of Numeria eagerly awaits the hero who will uncover the mysteries hidden within those remarkable numbers."}, {"id": 562, "euler_id": 562, "title": "Maximal perimeter", "problem": "Construct triangle ABC such that:\nVertices A, B and C are lattice points inside or on the circle of radius r centered at the origin;\nthe triangle contains no other lattice point inside or on its edges;\nthe perimeter is maximum.Let R be the circumradius of triangle ABC and T(r) = R/r.\nFor r = 5, one possible triangle has vertices (-4,-3), (4,2)  and (1,0) with perimeter 13+34+89 and circumradius R = 196692, so T(5) =1966950.\nYou are given T(10) ~ 97.26729 and T(100) ~ 9157.64707.\nFind T(107). Give your answer rounded to the nearest integer.", "solution": "51208732914368", "difficulty": 75, "story": "Once upon a time, in a village on the edge of a dense forest, lived a young girl named Lily. She was known for her exceptional problem-solving skills and her insatiable curiosity. Lily would spend hours exploring the woods, searching for anything that challenged her intellect.\n\nOne sunny afternoon, as Lily wandered deep within the forest, she stumbled upon a peculiar sight. In a small clearing, surrounded by vibrant wildflowers, stood a large stone slab. Intrigued, she cautiously approached it and noticed intricate engravings on its surface.\n\nAs she carefully traced her fingers over the ancient carvings, magical symbols emerged from the stone, forming a message for her. It read, \"Construct triangle ABC such that...\"\n\nLily's eyes widened with excitement as she realized it was a mathematical problem. She eagerly dove into deciphering the puzzle. The problem described a unique triangle, one that was enclosed within a circle of radius r, where the vertices A, B, and C were lattice points on or within this circle. The challenge was to construct this triangle in a way that maximized its perimeter while not containing any other lattice points on or within its edges.\n\nThe young girl's mathematical prowess immediately kicked in as she pondered over the problem. She visualized triangles in her mind, moving their vertices around the circle, calculating their perimeters. Lily knew she had to create a triangle that covered the most significant distance within the circle and remained devoid of any other lattice points.\n\nHer excitement grew with each passing calculation. Lily imagined herself traversing through the points, experimenting with various vertices until the triangle took shape. She couldn't help but wonder how the circumradius of this triangle, denoted as R, related to the circle's radius, r.\n\nLily's mind raced as she worked through the intricacies of the problem, trying and adjusting various combinations of lattice points. Eventually, she discovered a solution for r = 5 that amazed her. With vertices (-4, -3), (4, 2), and (1, 0), the triangle's perimeter summed up to 13 + 34 + 89, totaling to 136. Moreover, the circumradius of this remarkable triangle, R, measured an astonishing 196692, creating a ratio, T(r), equal to 1966950.\n\nThe realization of her solved puzzle brought a smile to Lily's face. She marveled at how the mathematical problem had led her to uncover such beauty within the field of geometry. But she couldn't stop there. She yearned to explore more, to unravel the secrets locked within the higher values of r.\n\nThus, determined to push the boundaries of her knowledge, Lily continued her mathematical exploration. She discovered that for T(10), the ratio was approximately 97.26729, and for T(100), it equaled around 9157.64707. The numbers excited her, and yet she hungered for more.\n\nAs Lily found herself standing at the precipice of her next journey, she gazed into the forest's shimmering canopy. With anticipation coursing through her veins, she set her sights on T(107). What wonders and challenges awaited her in this great unknown?\n\nThe question loomed before her, beckoning her intellect, urging her to solve yet another mathematical enigma. The air crackled with potential as Lily stepped forward, embarking on her quest. She knew the path ahead would be treacherous, full of twists and turns, but she also knew that the thrill of the unknown awaited her.\n\nNow, dear reader, it's your turn. Can you solve the mathematical problem that lies beyond the edge of this story? What awaits Lily at T(107), rounded to the nearest integer? Will it be a revelation equal to or even surpassing her previous triumphs? Only you can uncover the answer to this mysterious equation."}, {"id": 580, "euler_id": 580, "title": "Squarefree Hilbert numbers", "problem": "\nA Hilbert number is any positive integer of the form 4k+1 for integer k\u22650.  We shall define a squarefree Hilbert number as a Hilbert number which is not divisible by the square of any Hilbert number other than one.  For example, 117 is a squarefree Hilbert number, equaling 9\u00d713.  However 6237 is a Hilbert number that is not squarefree in this sense, as it is divisible by 92.  The number 3969 is also not squarefree, as it is divisible by both 92 and 212.  \n\n\nThere are 2327192 squarefree Hilbert numbers below 107. \nHow many squarefree Hilbert numbers are there below 1016?\n", "solution": "2327213148095366", "difficulty": 75, "story": "Once upon a time, in the enchanting kingdom of Numeria, there lived a young and curious princess named Arabella. She possessed an insatiable appetite for adventure, always seeking to uncover hidden treasures and solve the most perplexing puzzles. Her parents, the wise King Algernon and Queen Symphonia, were proud of her inquisitive nature and encouraged her to pursue her intellectual pursuits.\n\nArabella's room in the grand palace was nothing short of a treasure trove itself. Shelves lined with books of various subjects filled every inch of the room, while maps and charts adorned the walls. Amongst her vast collection, Arabella stumbled upon a worn-out parchment with an intriguing description of something called Hilbert numbers.\n\nIntrigued, Arabella embarked on a quest to unravel the secrets of these remarkable numbers. She delved deep into countless volumes, revealing that a Hilbert number is any positive integer of the form 4k+1 for integer k\u22650. And then, she read about the existence of squarefree Hilbert numbers, those which were not divisible by the square of any other Hilbert number except one.\n\nHer mind began to race with possibilities. \"How many of these mystical squarefree Hilbert numbers exist in the kingdom of Numeria?\" she pondered.\n\nArabella visited the esteemed mathematicians and scholars within the kingdom, seeking their guidance. They too were fascinated by her question and joined her quest for knowledge. Together, they explored ancient manuscripts, observed the patterns of numbers, debated their findings, and unearthed the secrets ingrained in the fabric of mathematics.\n\nTheir research led them to a profound discovery. Arabella's heart raced with excitement as the scholars revealed that below 107, there were precisely 2327192 squarefree Hilbert numbers waiting to be found. The young princess marveled at the magnitude of this revelation.\n\nDetermined to uncover yet more mysteries, Arabella embarked on an even grander mission. A mission that no one had ever dared to take on before. She set her gaze on the vast horizon and asked herself, \"How many squarefree Hilbert numbers are there below 1016?\"\n\nEager to find out the answer, Arabella gathered her team of brilliant minds, determined to unravel the secret of the squarefree Hilbert numbers. The mathematicians delved even deeper into their research, poring over countless equations and calculations.\n\nAs the wheels of discovery continued to turn, a flicker of anticipation burned within Arabella's eyes. The kingdom's future may rely on their findings. And so, the question remains:\n\nHow many squarefree Hilbert numbers are there below 1016?"}, {"id": 586, "euler_id": 586, "title": "Binary Quadratic Form", "problem": "\nThe number 209 can be expressed as a2+3ab+b2 in two distinct ways:\n\n\n209=82+3\u22c58\u22c55+52 \n209=132+3\u22c513\u22c51+12\n\n\nLet f(n,r) be the number of integers k not exceeding n that can be expressed as k=a2+3ab+b2, with a>b>0 integers, in exactly r different ways.\n\n\nYou are given that f(105,4)=237 and f(108,6)=59517.\n\n\nFind f(1015,40).\n", "solution": "82490213", "difficulty": 75, "story": "Once upon a time, in the vibrant kingdom of Numeria, there lived a young and bright mathematician named Alice. She possessed an uncanny ability to see patterns in the world, as if the universe whispered its secrets to her in the form of elegant equations and intricate formulas.\n\nAlice spent her days exploring the kingdom, looking for inspiration in the nooks and crannies of everyday life. One sunny afternoon, she stumbled upon a quaint, old bookstore tucked away in a quiet alley. Her eyes sparkled with curiosity as she stepped inside, ready to discover hidden knowledge and ancient wisdom.\n\nAs she roamed the aisles, her fingers trailed along the spines of countless books. She fell in love with the musty scent of knowledge, the promise of extraordinary adventures, and the endless possibilities contained within each volume.\n\nSuddenly, a small, well-worn leather-bound book caught Alice's attention. Its pages were yellowed and fragile, betraying its age and the countless hands that had carefully turned them. She delicately lifted the book from its shelf, and her heart leapt as she saw a mysterious-looking symbol embossed on the cover \u2013 a symbol that she recognized as the mark of an arcane mathematical text.\n\nWith bated breath, Alice opened the book, revealing pages filled with calculations and mysterious formulas. The book contained tales of ancient mathematical puzzles, each with unimaginable consequences waiting to be unraveled.\n\nOne such puzzle, she discovered, was the story of a peculiar number: 209. The book explained that this number could be expressed as a2 + 3ab + b2 in not one but two different ways:\n\n209 = 8^2 + 3 * 8 * 5 + 5^2\n209 = 13^2 + 3 * 13 * 1 + 1^2\n\nThe book further introduced a function called f(n, r), which represented the number of integers k not exceeding n that could be expressed in exactly r different ways. Intrigued, Alice took note, her mind racing with possibilities.\n\nDays turned into weeks as Alice delved deeper into the mysteries of this mathematical problem. She immersed herself in her studies, poring over the book's pages late into the night, determined to unlock its secrets.\n\nFinally, her tireless efforts paid off. She discovered that f(105, 4) equaled 237, and f(108, 6) was a staggering 59517. However, her greatest quest lay ahead \u2013 to determine f(1015, 40). This grand task seemed insurmountable, a challenge worthy of only the most brilliant minds.\n\nThe question burned within Alice, ceaselessly driving her forward. With each passing day, she explored new avenues, developed innovative techniques, and harnessed the power of her mathematical prowess. She knew that the answer to f(1015, 40) would unlock untold wonders and pave the way for groundbreaking breakthroughs.\n\nAnd so, dear reader, we find ourselves at the heart of this captivating tale, standing side by side with Alice as she stands on the precipice of discovery. We find ourselves in a world where numbers dance, and equations whisper in the wind.\n\nNow, I ask you, fellow dreamer of possibilities and friend of numbers: Can you solve the final riddle of this enchanting mathematical problem? What is the value of f(1015, 40)? The kingdom of Numeria anxiously awaits your answer."}, {"id": 645, "euler_id": 645, "title": "Every Day is a Holiday", "problem": "On planet J, a year lasts for D days. Holidays are defined by the two following rules.\nAt the beginning of the reign of the current Emperor, his birthday is declared a holiday from that year onwards.\nIf both the day before and after a day d are holidays, then d also becomes a holiday.\nInitially there are no holidays. Let E(D) be the expected number of Emperors to reign before all the days of the year are holidays, assuming that their birthdays are independent and uniformly distributed throughout the D days of the year.\nYou are given E(2)=1, E(5)=31/6, E(365)\u22481174.3501.\nFind E(10000). Give your answer rounded to 4 digits after the decimal point.", "solution": "48894.2174", "difficulty": 75, "story": "Once upon a time, in a distant galaxy far beyond our own, there existed a vibrant planet known as J. Lying in the vast reaches of outer space, J was home to a remarkable civilization that thrived on the beauty of numbers and the complexities of the universe.\n\nThe inhabitants of J were a curious bunch, forever seeking the answers to the great mysteries of life. One such enigma that perplexed them was the nature of their year, which lasted for an arbitrary number of days - let's call it D. \n\nThey were a highly organized society, and so it was decided that holidays would be an essential part of their culture. But how would they define these special days? They were fervent supporters of their Emperor, the reigning figure who led them with wisdom and grace. And thus, it was resolved that the Emperor's birthday would be declared a holiday for generations to come.\n\nBut the people of J were not content with just one holiday. They yearned for a world where joy and celebration spread across every corner of their land. And so, they established a second rule - that if both the day before and after a particular day were holidays, that day itself would be designated as a holiday. This further ignited a sense of togetherness and companionship among the citizens.\n\nHowever, there was a deep-rooted mathematical question that intrigued the people of J. They wondered, just how many Emperors would reign before every single day of the year became a holiday? They pondered over this mystery for generations, but it seemed impossible to find an answer.\n\nHope arrived when a young mathematician named Eris emerged. Eris was known for her exceptional understanding of numbers, and the people of J hailed her as a prodigy. She delved into the mysteries of the past, scouring the annals of history for any clue that might point her in the right direction.\n\nOne day, as she tirelessly studied the fragments of an ancient tome, Eris stumbled upon a remarkable equation. It was called E(D), and it represented the expected number of Emperors to reign before all the days of the year would transform into holidays. The equation fascinated her, for within its numerical depths lay the key to unraveling the age-old riddle.\n\nDriven by her thirst for knowledge, Eris dedicated herself to the challenge. She analyzed the patterns, deciphered the complexities, and discovered the underlying truth within the equation. The world of mathematics seemed to unveil its deepest secrets before her eyes.\n\nWith each passing day, Eris grew closer to the answer. Through countless hours of computation, she managed to solve for E(2), E(5), and even E(365). Each victory infused her with hope and determination, as she meticulously rounded her calculations to the fourth decimal point.\n\nBut the ultimate goal still eluded her. What would be the value of E(10000)? It was a number so grand, so unfathomable in its magnitude that it seemed to taunt her from the depths of the equation.\n\nEris knew that her discovery could have a profound impact on the people of J. Determined to share her findings, she embarked on a perilous journey to gather the leaders of her planet. Her excitement was only eclipsed by the weight of the mathematical problem that rested on her shoulders.\n\nAs she stood before the gathered council, Eris unveiled her theory. Her voice echoed through the grand chamber, and her eyes sparkled with a blend of anticipation and trepidation. She presented her conclusions to the mathematical puzzle that had haunted their civilization for centuries.\n\nThe council listened with rapt attention, hanging on to every word that came out of Eris's lips. The citizens of J had yearned for this knowledge for generations, and now it lay before them, waiting to be unlocked.\n\nAnd so, the story of Eris and her mathematical journey reached its climax. But as the tale draws to a close, a question lingers in the air. What would be the value of E(10000)? The answer, shrouded in the depths of the mathematical riddle, awaits its champion.\n\nCan you, dear reader, unravel the mystery that has stumped the mathematicians of J? Can you find the value of E(10000)?"}, {"id": 742, "euler_id": 742, "title": "Minimum area of a convex grid polygon", "problem": "A symmetrical convex grid polygon is a polygon such that:\nAll its vertices have integer coordinates.\nAll its internal angles are strictly smaller than 180\u00b0.\nIt has both horizontal and vertical symmetry.\nFor example, the left polygon is a convex grid polygon which has neither horizontal nor vertical symmetry, while the right one is a valid symmetrical convex grid polygon with six vertices:\n\n\nDefine A(N), the minimum area of a symmetrical convex grid polygon with N vertices.\nYou are given A(4)=1, A(8)=7, A(40)=1039 and A(100)=17473.\nFind A(1000).", "solution": "18397727", "difficulty": 75, "story": "Once upon a time in a small village nestled amidst rolling green fields, there lived a young dreamer named Amelia. Amelia was a quiet girl who spent most of her time lost in the realm of her imagination. Her mind was a universe of boundless possibilities, constantly conjuring up fantastical worlds and intricate puzzles to solve. \n\nIn this whimsical village, puzzles were highly cherished. People gathered from far and wide to challenge their minds and unlock the secrets of the universe. One sunny day, a renowned mathematician named Professor Eldridge arrived in the village, seeking to share his fascinating mathematical problems with the villagers.\n\nWord of the professor's arrival spread quickly. Curiosity ensnared the villagers, and they flocked to the village square where Professor Eldridge had set up an elaborate display. On a wooden board, he pinned a tantalizing riddle that would ignite their intellectual flames.\n\nAmelia, with her knapsack of dreams and unquenchable curiosity, approached the board to read the riddle. It held her captive, weaving itself into the tapestry of her imagination. The riddle challenged her to define the minimum area of a symmetrical convex grid polygon with various numbers of vertices.\n\nHer mind spun with possibilities. The riddle spoke to her soul, beckoning her to explore the world of symmetry and numbers in a way she had never imagined before. She couldn't resist the puzzle's allure, and with a spark dancing in her eyes, she resolved to uncover the mysteries hidden within the realm of symmetrical convex grid polygons.\n\nAmelia spent countless hours pouring over textbooks, sketching polygons, and tinkering with numbers. She explored the intricacies of horizontal and vertical symmetry, unraveling the secrets of how these polygons were formed. As days turned into weeks and then into months, Amelia's mind was consumed by the riddle. The village noticed her unwavering dedication and marveled at her determination.\n\nIn the quiet solitude of her room, surrounded by towers of books and intricate sketches, Amelia discovered patterns that no one had ever imagined. She realized that the minimum area of these symmetrical convex grid polygons with different vertices was connected to the hidden symmetries within the numbers themselves. It was as if the numbers held the key to unlocking the precise area of each polygon.\n\nWith newfound understanding radiating from her being, Amelia, trembling with excitement, announced her solution to the village. The villagers listened intently, their eyes gleaming with curiosity. Amelia, with her voice filled with fervor, revealed the answer to the three given cases: A(4)=1, A(8)=7, and A(40)=1039.\n\nThe village erupted in cheers and applause, celebrating Amelia's remarkable achievement. Professor Eldridge himself congratulated her, acknowledging her brilliance and dedication. But amidst the jubilation, one question lingered in Amelia's mind\u2014a question that remained unanswered, beckoning to her restless spirit.\n\nAs the sun started to set and a gentle breeze rustled the fields, Amelia looked at the riddle once again. \"What,\" she wondered, \"is A(1000)?\"\n\nAnd so, dear reader, I challenge you to embark on this mathematical journey with Amelia. Can you decipher the secrets of these symmetrical convex grid polygons? Can you find A(1000) and uncover the hidden key that lies within the vast expanse of numbers? It is a question that will push the boundaries of your imagination and ignite the fires of your curiosity. Good luck, and may your mind dance amidst the enchanting world of numbers and symmetries."}]